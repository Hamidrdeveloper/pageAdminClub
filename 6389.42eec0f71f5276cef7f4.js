"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6389],{89452:function(e,t,l){l.d(t,{Z:function(){return u}});var a=l(38056),n=(l(95171),l(34234)),r=l(27378),c=l(34940);const i=e=>e?r.createElement(c.Z,{color:"green"},a.ZP.t("Global.Yes")):r.createElement(c.Z,{color:"red"},a.ZP.t("Global.No")),s=({data:e})=>"boolean"==typeof e?i(e):r.createElement("span",null,"-");l(61572);var o=l(97314);class u{constructor(){this.entity="/barcodes",this.title=[a.ZP.t("Barcode.Title"),a.ZP.t("Barcode.Title",{count:2})],this.apiService=new n.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,r.lazy)((()=>Promise.resolve().then(l.bind(l,56850)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${o.AW.replace("*","")}`}],this.detailColumns=[{key:"type",label:a.ZP.t("Barcode.Field.Type")},{key:"value",label:a.ZP.t("Barcode.Field.Value")},{key:"used",label:a.ZP.t("Global.IsUsed"),render:s}],this.tableColumns=[{key:"type",title:a.ZP.t("Barcode.Field.Type"),dataIndex:"type",className:"hasTile",width:150},{key:"value",title:a.ZP.t("Barcode.Field.Value"),dataIndex:"value",className:"hasTile",width:120},{key:"used",title:a.ZP.t("Global.IsUsed"),dataIndex:"used",className:"hasTile",width:120,render:i}],this.BarcodeTypes=[{label:"GTIN_8",value:"GTIN_8"},{label:"GTIN_13",value:"GTIN_13"},{label:"GTIN_14",value:"GTIN_14"},{label:"GTIN_128",value:"GTIN_128"},{label:"ISBN",value:"ISBN"},{label:"QR",value:"QR"},{label:"CODE_128",value:"CODE_128"},{label:"UPC",value:"UPC"},{label:"EAN13",value:"EAN13"},{label:"EAN128",value:"EAN128"}]}}},56850:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});l(95171);var a=l(34234),n=l(27378),r=l(56552),c=l(89452),i=l(33996),s=l(3288),o=l(35062),u=l(10374),d=l(9172),m=l(97851),b=l(48158),p=l(60071);l(61572);function E({onSubmit:e,isPending:t,initialValues:l}){const{t:a}=(0,p.$)(),[r]=s.Z.useForm(),E=new c.Z;return(0,n.useEffect)((()=>{l&&r.setFieldsValue(l)}),[l]),n.createElement(s.Z,{form:r,layout:"vertical",onFinish:e,name:"barcode-form",initialValues:{used:!1,translate:[{locale:"en",name:"My Name"}]}},n.createElement(o.Z,{align:"middle",gutter:[16,0]},n.createElement(u.Z,{span:8},n.createElement(s.Z.Item,{label:a("Barcode.Field.Type"),name:"type",rules:[{required:!0}]},n.createElement(d.Z,{options:E.BarcodeTypes,placeholder:a("Barcode.Field.Value")}))),n.createElement(u.Z,{span:8},n.createElement(s.Z.Item,{label:a("Barcode.Field.Value"),name:"value",rules:[{required:!0}]},n.createElement(m.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Barcode.Field.Value")})}))),n.createElement(u.Z,{span:8},n.createElement(s.Z.Item,{label:" ",name:"used",valuePropName:"checked"},n.createElement(b.Z,null,a("Global.IsUsed"))))),n.createElement(i.Ow,{isPending:t}))}var h=({onCallback:e,closeModal:t,singleData:l})=>{const i=new c.Z,{mutate:s,isLoading:o}=(0,r.useMutation)((({id:e,values:t})=>e?i.apiService.updateOne(e,t):i.apiService.createOne(t)));return n.createElement(E,{initialValues:l,onSubmit:n=>{const r=Object.assign(Object.assign({},n),{translate:(0,a.mj)(n.translate)});s({id:l?l.id:void 0,values:r},{onSuccess:l=>{null==e||e(l),null==t||t()}})},isPending:o})}},61572:function(e,t,l){l(95171)},6389:function(e,t,l){l.r(t),l.d(t,{default:function(){return S}});var a=l(27378),n=l(96740),r=l(38056),c=l(33996),i=l(21329),s=l(60071);var o=({children:e,isModalVisible:t,setModalVisible:l,breadcrumbTitle:n})=>{const{t:r}=(0,s.$)(),o=()=>{l(!1)};return a.createElement(i.Z,{width:1300,footer:!1,destroyOnClose:!0,closable:!0,onCancel:o,visible:t,title:a.createElement(c.xB,{onClose:o,items:[{path:"",breadcrumbName:null!=n?n:""}]})},a.createElement(a.Suspense,{fallback:a.createElement("p",null,r("Global.LoadingUpsertModule"))},a.Children.toArray(e).map((e=>a.cloneElement(e)))))},u=l(56591),d=l(89452),m=l(6110),b=l(56552),p=(l(95171),l(3288)),E=l(9172),h=l(25724),Z=l(97851),f=l(26761);l(61572);var v=({onSubmit:e,isPending:t})=>{const{BarcodeTypes:l}=new d.Z,{t:n}=(0,s.$)();return a.createElement(y,{layout:"vertical",onFinish:e,labelCol:{span:8},name:"barcode-generator-form"},a.createElement(p.Z.Item,{label:n("Barcode.Field.Type"),name:"type",rules:[{required:!0}]},a.createElement(E.Z,{options:l,placeholder:n("Global.SelectPlaceholder",{title:n("Barcode.Field.Type")})})),a.createElement(p.Z.Item,{name:"from",label:n("Global.From"),className:"inline",rules:[{required:!0}]},a.createElement(h.Z,{min:0})),a.createElement(p.Z.Item,{name:"to",label:n("Global.To"),className:"inline secondElement",rules:[{required:!0}]},a.createElement(h.Z,{min:0})),a.createElement(p.Z.Item,{name:"prefix",className:"inline",label:n("Barcode.Prefix")},a.createElement(Z.Z,null)),a.createElement(p.Z.Item,{name:"postfix",className:"inline secondElement",label:n("Barcode.Postfix")},a.createElement(Z.Z,null)),a.createElement(c.Ow,{isPending:t}))};const y=(0,f.ZP)(p.Z)`
  .inline {
    display: inline-block;
    width: calc(50% - 8px);

    &.secondElement {
      margin: 0 8px;
    }
  }
`;var P=l(14206),g=l.n(P),N=function(e,t,l,a){function n(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,r){function c(e){try{s(a.next(e))}catch(e){r(e)}}function i(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?l(e.value):n(e.value).then(c,i)}s((a=a.apply(e,t||[])).next())}))};function I(e){return N(this,void 0,void 0,(function*(){try{return(yield g().post("barcodes/bulk-generate",e)).data.data.message}catch(e){throw new Error(e)}}))}var B=({onCallback:e})=>{const{mutate:t,isLoading:l}=(0,b.useMutation)(I);return a.createElement(v,{isPending:l,onSubmit:l=>{t(Object.assign(Object.assign({},l),{used:!1}),{onSuccess:t=>{m.ZP.success(t),null==e||e()}})}})};function w(){const e=new d.Z,[t,l]=(0,a.useState)(!1);return a.createElement(c.Xg,{module:e},a.createElement(c.Xg.Breadcrumb,null),a.createElement(c.Xg.Panel,null,a.createElement(c.s_.Header,{hasNew:!0,hasSearch:!0,ExtraAction:()=>a.createElement(u.Z,{type:"primary",onClick:()=>l(!0)},r.ZP.t("Barcode.GenerateBarcodes"))}),a.createElement(c.s_.ListView,{module:e})),t&&a.createElement(o,{setModalVisible:l,isModalVisible:t},a.createElement(B,{onCallback:()=>l(!1)})))}var T=l(53988),G=l(3487),C=l(56850),k=l(97314);var x=()=>{const e=(0,n.s0)(),{barcode_id:t}=(0,n.UO)(),[l,i]=(0,a.useState)({}),[s,o]=(0,a.useState)(!1),u=new d.Z,m=u.title[0],b=`${k.AW.replace("*","")}`,p=[...u.breadcrumbItems,{path:"",breadcrumbName:t?`${r.ZP.t("Global.Update")} ${m} - ${t}`:`${r.ZP.t("Global.New")} ${m}`}];(0,a.useEffect)((()=>{t&&(o(!0),u.apiService.getOne(+t).then((e=>{i(e)})).finally((()=>o(!1))))}),[]);return a.createElement(c.Xg,{module:u},a.createElement(c.Xg.Breadcrumb,{routes:p}),a.createElement(c.Xg.Panel,null,a.createElement(G.j,null,a.createElement("div",{className:"header"},a.createElement(T.Z,{onClose:()=>e(`/admin${b}`),items:p})),s?a.createElement(c.aN,null):a.createElement(C.default,{singleData:l,onCallback:()=>{e(-1)}}))))};function S(){return a.createElement(n.Z5,null,a.createElement(n.AW,{path:"",element:a.createElement(w,null)}),a.createElement(n.AW,{path:"/upsert",element:a.createElement(x,null)}),a.createElement(n.AW,{path:"/upsert/:barcode_id",element:a.createElement(x,null)}))}},3487:function(e,t,l){l.d(t,{j:function(){return a}});const a=l(26761).ZP.div`
  padding: 32px;
  .header {
    padding-bottom: 32px;
    margin-bottom: 32px;
    border-bottom: 1px dashed #ededed;
  }
`},97314:function(e){e.exports=JSON.parse('{"AW":"/products/barcosdsddes/*"}')}}]);