"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6517],{37144:function(e,t,n){var a=n(25773),l=n(11026),r=n(27378),i=n(60042),o=n.n(i),c=n(24391),s=n(41604),d=n(78730),u=n(19511),m=n(56591),p=n(37610),f=n(59183),g=n(78670),b=n(73533),h=n(26204),Z=n(93795),v=n(80821),E=n(91522),y=void 0,x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},S=r.forwardRef((function(e,t){var n=r.useContext(b.E_).getPrefixCls,i=(0,c.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),s=(0,l.Z)(i,2),S=s[0],P=s[1],w=function(t,n){var a;P(t),null===(a=e.onVisibleChange)||void 0===a||a.call(e,t,n)},C=function(e){w(!1,e)},k=function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(y,t)},_=function(t){var n;w(!1,t),null===(n=e.onCancel)||void 0===n||n.call(y,t)},I=e.prefixCls,N=e.placement,O=e.children,D=e.overlayClassName,F=x(e,["prefixCls","placement","children","overlayClassName"]),T=n("popover",I),V=n("popconfirm",I),A=o()(V,D),G=r.createElement(f.Z,{componentName:"Popconfirm",defaultLocale:g.Z.Popconfirm},(function(t){return function(t,l){var i=e.okButtonProps,o=e.cancelButtonProps,c=e.title,s=e.cancelText,d=e.okText,u=e.okType,f=e.icon;return r.createElement("div",{className:"".concat(t,"-inner-content")},r.createElement("div",{className:"".concat(t,"-message")},f,r.createElement("div",{className:"".concat(t,"-message-title")},(0,h.Z)(c))),r.createElement("div",{className:"".concat(t,"-buttons")},r.createElement(m.Z,(0,a.Z)({onClick:_,size:"small"},o),s||l.cancelText),r.createElement(E.Z,{buttonProps:(0,a.Z)((0,a.Z)({size:"small"},(0,p.n)(u)),i),actionFn:k,close:C,prefixCls:n("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},d||l.okText)))}(T,t)})),M=n();return r.createElement(u.Z,(0,a.Z)({},F,{prefixCls:T,placement:N,onVisibleChange:function(t){e.disabled||w(t)},visible:S,overlay:G,overlayClassName:A,ref:t,transitionName:(0,v.m)(M,"zoom-big",e.transitionName)}),(0,Z.Tm)(O,{onKeyDown:function(e){var t,n;r.isValidElement(O)&&(null===(n=null==O?void 0:(t=O.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===d.Z.ESC&&S&&w(!1,e)}(e)}}))}));S.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:r.createElement(s.Z,null),disabled:!1},t.Z=S},44527:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(38056),l=(n(95171),n(34234)),r=(n(15339),n(91183));class i{constructor(){this.entity="/career-steps",this.title=[a.ZP.t("CareerStep.Title_other"),a.ZP.t("CareerStep.Title_other",{count:2})],this.apiService=new l.Vx(this.entity,this.title[0]),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin/${r.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:a.ZP.t("Global.ID")},{key:"slug",label:a.ZP.t("CareerStep.Slug")},{key:"min_point",label:a.ZP.t("CareerStep.MinPoint")},{key:"is_generation",label:a.ZP.t("CareerStep.Generation")},{key:"voucher_level",label:a.ZP.t("CareerStep.VoucherLevel")},{key:"id_account_minus_value",label:a.ZP.t("CareerStep.AccountMinusValue")},{key:"name",label:a.ZP.t("Global.Name")},{key:"discount_percentage",label:a.ZP.t("CareerStep.BonusValue")},{key:"frontline",label:a.ZP.t("CareerStep.FrontLine")}],this.tableColumns=[{key:"name",className:"hasTile",title:a.ZP.t("Global.Name"),dataIndex:"name"},{key:"slug",className:"hasTile",title:a.ZP.t("CareerStep.Slug"),dataIndex:"slug"},{key:"min_point",className:"hasTile",title:a.ZP.t("CareerStep.MinPoint"),dataIndex:"min_point"},{key:"is_generation",className:"hasTile",title:a.ZP.t("CareerStep.Generation"),dataIndex:"is_generation"},{key:"voucher_level",className:"hasTile",title:a.ZP.t("CareerStep.VoucherLevel"),dataIndex:"voucher_level"},{key:"discount_percentage",className:"hasTile",title:a.ZP.t("CareerStep.BonusValue"),dataIndex:"discount_percentage"},{key:"frontline",className:"hasTile",title:a.ZP.t("CareerStep.FrontLine"),dataIndex:"frontline"}]}}},23883:function(e,t,n){n(15339)},15339:function(e,t,n){n(95171)},84300:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(38056),l=n(34234),r=n(39338),i=n(27378),o=n(62500),c=(n(1130),n(59748)),s=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):l(e.value).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const d=(0,r.cn)([]),u=new l.Vx("career-steps",a.ZP.t("Competition.Rule.CareerStep")),m=(0,c.el)((e=>({queryKey:["careerStep",e(d)],queryFn:()=>s(void 0,void 0,void 0,(function*(){return(yield u.getAll({pagination:{per_page:20}})).data}))})));var p=function({value:e,onChange:t,maxHeight:n,isMulti:c=!1,placeholder:s=a.ZP.t("Global.SelectPlaceholder",{title:a.ZP.t("Competition.Rule.CareerStep")}),disabled:d=!1,menuPlacement:u="bottom"}){const[p]=(0,r.KO)(m);return i.createElement(o.ZP,{isClearable:!0,isMulti:c,options:p,isDisabled:d,onChange:e=>null==t?void 0:t(e),placeholder:s,maxMenuHeight:n,menuPlacement:u,menuPortalTarget:document.body,getOptionLabel:e=>null==e?void 0:e.name,getOptionValue:e=>String(null==e?void 0:e.id),theme:e=>(0,l.$p)(e),styles:{menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999})},classNamePrefix:"react-select",value:e})}},8391:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(38056),l=(n(95171),n(34234)),r=n(27378),i=(n(53422),n(11577));class o{constructor(){this.entity="/customer-steps",this.title=[a.ZP.t("CustomerStep.Title_other"),a.ZP.t("CustomerStep.Title_other",{count:2})],this.apiService=new l.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,r.lazy)((()=>n.e(1829).then(n.bind(n,71829)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${i.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:a.ZP.t("Global.ID")},{key:"name",label:a.ZP.t("Global.Name")},{key:"frontline",label:a.ZP.t("CustomerStep.Field.Frontline")},{key:"voucher_level",label:a.ZP.t("CustomerStep.Field.VoucherLevel")},{key:"id_account_minus_value",label:a.ZP.t("CustomerStep.Field.AccountMinusValue")}],this.tableColumns=[{key:"name",className:"hasTile",title:a.ZP.t("Global.Name"),dataIndex:"name"},{key:"frontline",className:"hasTile",title:a.ZP.t("CustomerStep.Field.Frontline"),dataIndex:"frontline"},{key:"voucher_level",className:"hasTile",title:a.ZP.t("CustomerStep.Field.VoucherLevel"),dataIndex:"voucher_level"},{key:"id_account_minus_value",className:"hasTile",title:a.ZP.t("CustomerStep.Field.AccountMinusValue"),dataIndex:"id_account_minus_value"}]}}},27448:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(38056),l=n(34234),r=n(39338),i=n(27378),o=n(62500),c=(n(53422),n(14206)),s=n.n(c),d=n(59748),u=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):l(e.value).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const m=(0,r.cn)([]),p=(0,d.el)((e=>({queryKey:["customerSteps",e(m)],queryFn:()=>u(void 0,void 0,void 0,(function*(){return(yield s().get("customer-steps")).data.data}))})));var f=function({value:e,onChange:t,maxHeight:n,loading:c=!1,isMulti:s=!1,disabled:d=!1,menuPlacement:u="bottom",placeholder:m=a.ZP.t("Global.SelectPlaceholder",{title:a.ZP.t("CustomerStep.Title")})}){const[f]=(0,r.KO)(p);return i.createElement(o.ZP,{isClearable:!0,value:e,isMulti:s,isDisabled:d,options:f,onChange:e=>null==t?void 0:t(e),placeholder:m,maxMenuHeight:n,menuPlacement:u,menuPortalTarget:document.body,isLoading:!!c||void 0,getOptionLabel:e=>null==e?void 0:e.name,getOptionValue:e=>String(null==e?void 0:e.id),theme:e=>(0,l.$p)(e),classNamePrefix:"react-select",styles:{menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999})}})}},90958:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(38056),l=(n(95171),n(34234)),r=n(27378),i=n(61985),o=n(33996),c=n(31675);const s=e=>r.createElement("span",null,e?(0,c.Wb)(new Date(e.replace(/'-'/g,"/"))):"-"),d=e=>r.createElement(o._v,{image:i.Xb.PURE_URL+e});n(46320);var u=JSON.parse('{"AW":"/downlsdsdsdoads/*"}');class m{constructor(){this.entity="/download-categories",this.title=[a.ZP.t("Download.Category.Title"),a.ZP.t("Download.Category.Title",{count:2})],this.apiService=new l.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,r.lazy)((()=>Promise.resolve().then(n.bind(n,10020)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${u.AW.replace("*","")}`}],this.tableColumns=[{key:"slug",dataIndex:"slug",className:"hasTile",title:a.ZP.t("Download.Category.Slug")},{key:"name",dataIndex:"name",className:"hasTile",title:a.ZP.t("Global.Name")},{key:"created_at",className:"hasTile",render:s,dataIndex:"created_at",title:a.ZP.t("Global.CreatedAt")},{key:"file_path",render:d,dataIndex:"file_path",title:a.ZP.t("Global.Image"),className:"hasTile mainImage"}]}}},6495:function(e,t,n){var a=n(26761);const l=a.ZP.div`
  border: 1px solid #d9d9d9;
  padding: 20px;
  margin: 20px 0;

  background-color: #fafafa;

  border-radius: ${e=>e.radius}px;
`,r=a.ZP.fieldset`
  border: 1px solid #d9d9d9;
  border-radius: 20px;
  padding: 20px 25px 35px;
  margin-bottom: 40px;
  margin-top: 10px;

  legend {
    color: #235b81;
    width: auto;
    padding: 0 10px;
    font-weight: bold;
    margin-bottom: 0;
    margin-left: 15px;
    border-bottom: 0;
  }

  .checkbox-legend {
    .ant-checkbox-wrapper {
      color: #235b81;
    }

    margin-bottom: 0;
  }

  .space {
    display: flex;
    gap: 8px;

    &:not(:last-child) {
      margin-bottom: 16px;
    }

    .ant-select {
      width: 150px;
    }

    .ant-input-group {
      display: flex;
      flex: 1;

      &.gap {
        gap: 8px;

        & input {
          border-radius: 4px;
        }
      }
    }
  }
`;t.Z={MainContainer:l,FieldSet:r}},78201:function(e,t,n){var a=n(38056),l=n(34234),r=n(39338),i=n(27378),o=n(62500),c=(n(46320),n(62848));t.Z=function({value:e,onChange:t,exceptId:n,maxHeight:s,isMulti:d=!1,loading:u=!1,disabled:m=!1,menuPlacement:p="bottom",placeholder:f=a.ZP.t("Global.SelectPlaceholder",{title:a.ZP.t("Download.Category.Title")})}){const[g]=(0,r.KO)(c.I),b=g.filter((e=>e.id!==n));return i.createElement(o.ZP,{isClearable:!0,value:e,isMulti:d,isDisabled:m,onChange:e=>null==t?void 0:t(e),placeholder:f,maxMenuHeight:s,options:b,menuPlacement:p,classNamePrefix:"react-select",menuPortalTarget:document.body,isLoading:!!u||void 0,getOptionLabel:e=>null==e?void 0:e.slug,getOptionValue:e=>String(null==e?void 0:e.id),theme:e=>(0,l.$p)(e),styles:{menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999})}})}},10020:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});n(95171);var a=n(27378),l=n(56552),r=n(33996),i=n(32383),o=n(3288),c=n(35062),s=n(10374),d=n(97851),u=n(48158),m=n(25724),p=n(39338),f=n(60071),g=n(78201),b=(n(46320),n(62848)),h=n(6495);function Z({onSubmit:e,isPending:t,initialValues:n}){const{t:l}=(0,f.$)(),[Z]=o.Z.useForm(),[v]=(0,p.KO)(b.D);return(0,a.useEffect)((()=>{n&&Z.setFieldsValue(n)}),[n]),a.createElement(h.Z.MainContainer,{radius:10},a.createElement(o.Z,{form:Z,colon:!1,labelAlign:"left",layout:"vertical",onFinish:e,name:"download-category-form",labelCol:{xs:{span:8}},initialValues:{translate:[{locale:void 0,name:""}],is_active:!0}},a.createElement(a.Suspense,{fallback:a.createElement(r.aN,null)},a.createElement(c.Z,{gutter:16},a.createElement(s.Z,{xs:24,md:6},a.createElement(o.Z.Item,{name:"slug",label:l("Download.Category.Slug"),rules:[{required:!0}]},a.createElement(d.Z,{placeholder:l("Global.InputPlaceholder",{title:l("Download.Category.Slug")})}))),a.createElement(s.Z,{xs:24,md:18},a.createElement(o.Z.Item,{required:!0},a.createElement(r.Es,null)))),a.createElement(h.Z.FieldSet,null,a.createElement("legend",null,a.createElement(o.Z.Item,{name:"is_active",valuePropName:"checked",className:"checkbox-legend"},a.createElement(u.Z,null,l("Global.IsActive")))),a.createElement(o.Z.Item,{name:"file_path"},a.createElement(r.gq,{form:Z})),a.createElement(o.Z.Item,{name:"file_id",hidden:!0},a.createElement(a.Fragment,null)),a.createElement(c.Z,{gutter:16},a.createElement(s.Z,{xs:24,md:12},a.createElement(a.Suspense,{fallback:(0,i.Z)(l("Download.Category.Parent"))},a.createElement(o.Z.Item,{name:"parent",label:l("Download.Category.Parent")},a.createElement(g.Z,{exceptId:null==v?void 0:v.id})))),a.createElement(s.Z,{xs:24,md:12},a.createElement(o.Z.Item,{name:"sort",label:l("Global.Sort")},a.createElement(m.Z,{min:0,placeholder:l("Global.InputPlaceholder",{title:l("Global.Sort")})}))))),a.createElement(r.Ow,{isPending:t}))))}var v=n(90958),E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n};const{apiService:y}=new v.Z;var x=({singleData:e,onCallback:t})=>{const{mutate:n,isLoading:r}=(0,l.useMutation)((({id:e,values:t})=>e?y.updateOne(e,t):y.createOne(t)));return a.createElement(Z,{initialValues:e,isPending:r,onSubmit:a=>{var l;const{parent:r}=a,i=E(a,["parent"]),o=Object.assign({parent_id:null!==(l=null==r?void 0:r.id)&&void 0!==l?l:null},i);n({id:e?null==e?void 0:e.id:void 0,values:o},{onSuccess:t})}})}},46320:function(e,t,n){n(95171)},68513:function(e,t,n){n(1130),n(98809),n(53422),n(86317),n(46320)},66517:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var a=n(27378),l=n(96740),r=n(38056),i=n(33996),o=n(90958);n(46320);function c(){const e=new o.Z;return a.createElement(i.Xg,{module:e},a.createElement(i.Xg.Breadcrumb,null),a.createElement(i.Xg.Panel,{defaultListView:"longTiles"},a.createElement(i.s_.Header,{hasSearch:!0,hasNew:!0,newLink:"manage",noDescription:!0}),a.createElement(i.s_.ListView,{hasUpdate:!0,module:e,updateLink:"manage",togglers:[{dataIndex:"is_active",title:r.ZP.t("Global.IsActive"),url:"active"}]})))}var s=n(50836),d=n(39338),u=n(60071),m=n(56552),p=n(26761),f=n(10020),g=n(96188),b=(n(95171),n(6110)),h=n(35062),Z=n(10374),v=n(26490),E=n(56591),y=n(99386),x=n(84300),S=(n(1130),n(98809)),P=n(27448),w=(n(53422),n(86317)),C=n(41156),k=n(32383),_=n(3288),I=n(97851),N=n(48158),O=n(78201),D=(n(68513),n(23883),n(44527));function F(e){const t=new D.Z;return a.createElement(i.Xg,{module:t},a.createElement(i.Xg.Panel,null,a.createElement(i.s_.Header,{hasSearch:!0,hasNew:!1,dontNavigate:!0,ExtraAction:(t,n)=>a.createElement(E.Z,{type:"primary",onClick:()=>{e((e=>{if(e){const t=[...e,...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return t}{const e=[...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return e}}))},disabled:0===t.length},r.ZP.t("Download.AddSelected"))}),a.createElement(i.s_.ListView,{dontNavigate:!0,hasUpdate:!1,module:t,tableScroll:{y:640,x:1300}})))}var T=n(9211);n(29663);function V(e){const t=new T.Z;return a.createElement(i.Xg,{module:t},a.createElement(i.Xg.Panel,null,a.createElement(i.s_.Header,{hasSearch:!0,hasNew:!1,dontNavigate:!0,ExtraAction:(t,n)=>a.createElement(E.Z,{type:"primary",onClick:()=>{e((e=>{if(e){const t=[...e,...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return t}{const e=[...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return e}}))},disabled:0===t.length},r.ZP.t("Download.AddSelected"))}),a.createElement(i.s_.ListView,{dontNavigate:!0,hasUpdate:!1,module:t,tableScroll:{y:640,x:1300},params:{isActive:!0}})))}var A=n(8391);function G(e){const t=new A.Z;return a.createElement(i.Xg,{module:t},a.createElement(i.Xg.Panel,null,a.createElement(i.s_.Header,{hasSearch:!0,hasNew:!1,dontNavigate:!0,ExtraAction:(t,n)=>a.createElement(E.Z,{type:"primary",onClick:()=>{e((e=>{if(e){const t=[...e,...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return t}{const e=[...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return e}}))},disabled:0===t.length},r.ZP.t("Download.AddSelected"))}),a.createElement(i.s_.ListView,{dontNavigate:!0,hasUpdate:!1,module:t,tableScroll:{y:640,x:1300}})))}var M=n(83173);function L(e){const t=new M.Z;return a.createElement(i.Xg,{module:t},a.createElement(i.Xg.Panel,null,a.createElement(i.s_.Header,{hasSearch:!0,hasNew:!1,dontNavigate:!0,ExtraAction:(t,n)=>a.createElement(E.Z,{type:"primary",onClick:()=>{e((e=>{if(e){const t=[...e,...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return t}{const e=[...n].filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t));return e}}))},disabled:0===t.length},r.ZP.t("Download.AddSelected"))}),a.createElement(i.s_.ListView,{dontNavigate:!0,hasUpdate:!1,module:t,tableScroll:{y:640,x:1300},params:{isActive:!0}})))}var j=n(6495);function $({onSubmit:e,onRemove:t,isPending:n,initialValues:l}){const{t:r}=(0,u.$)(),[o]=_.Z.useForm(),[c,s]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[v,D]=(0,a.useState)([]),[T,A]=(0,a.useState)([]),[M,$]=(0,a.useState)([]),[q,X]=(0,a.useState)([]);(0,a.useEffect)((()=>{o.setFieldsValue({countries:v})}),[v]),(0,a.useEffect)((()=>{o.setFieldsValue({languages:T})}),[T]),(0,a.useEffect)((()=>{o.setFieldsValue({careerSteps:M})}),[M]),(0,a.useEffect)((()=>{o.setFieldsValue({customerSteps:q})}),[q]),(0,a.useEffect)((()=>{l&&(o.setFieldsValue(l),D(null==l?void 0:l.countries),A(null==l?void 0:l.languages),$(null==l?void 0:l.careerSteps),X(null==l?void 0:l.customerSteps))}),[l]);const K=a.useMemo((()=>V(D)),[]),R=a.useMemo((()=>L(A)),[]),H=a.useMemo((()=>F($)),[]),U=a.useMemo((()=>G(X)),[]);return a.createElement(j.Z.MainContainer,{radius:10},a.createElement(_.Z,{form:o,colon:!1,labelAlign:"left",layout:"vertical",onFinish:e,name:"download-file-form",labelCol:{xs:{span:8}},initialValues:{translate:[{locale:void 0,name:""}]}},a.createElement(a.Suspense,{fallback:a.createElement(i.aN,null)},a.createElement(h.Z,{gutter:16},a.createElement(Z.Z,{xs:24,md:12},a.createElement(_.Z.Item,{name:"name",label:r("Global.Name"),rules:[{required:!0}]},a.createElement(I.Z,{placeholder:r("Global.InputPlaceholder",{title:r("Download.Category.Slug")})}))),a.createElement(Z.Z,{xs:24,md:12},a.createElement(a.Suspense,{fallback:(0,k.Z)(r("Download.File.Categories"))},a.createElement(_.Z.Item,{name:"downloadCategories",label:r("Download.File.Categories")},a.createElement(O.Z,{isMulti:!0}))))),a.createElement(h.Z,{gutter:16},a.createElement(Z.Z,{xs:24,md:12},a.createElement(_.Z.Item,{label:r("Global.File"),name:["file","root_file","path"],required:!0,requiredMark:!0},a.createElement(i.gq,{form:o,idName:"file_id"})),a.createElement(_.Z.Item,{name:"file_id",hidden:!0},a.createElement(a.Fragment,null))),a.createElement(Z.Z,{xs:24,md:12},a.createElement(_.Z.Item,{name:"image_path",label:r("Download.File.PreviewImage")},a.createElement(i.gq,{form:o,idName:"image_id"})),a.createElement(_.Z.Item,{hidden:!0,name:"image_id"},a.createElement(a.Fragment,null)))),a.createElement(j.Z.FieldSet,null,a.createElement("legend",null,a.createElement(_.Z.Item,{name:"is_active",valuePropName:"checked",className:"checkbox-legend"},a.createElement(N.Z,null,r("Global.Available")))),a.createElement(h.Z,{gutter:16},a.createElement(Z.Z,{xs:6},a.createElement(_.Z.Item,null,a.createElement(N.Z,{onChange:e=>{s(e.target.checked),m(!1),f(!1),b(!1)},checked:c},r("Download.File.Country")))),a.createElement(Z.Z,{xs:6},a.createElement(_.Z.Item,null,a.createElement(N.Z,{onChange:e=>{m(e.target.checked),s(!1),f(!1),b(!1)},checked:d},r("Download.File.Language")))),a.createElement(Z.Z,{xs:6},a.createElement(_.Z.Item,null,a.createElement(N.Z,{onChange:e=>{f(e.target.checked),s(!1),m(!1),b(!1)},checked:p},r("Download.File.CareerStep")))),a.createElement(Z.Z,{xs:6},a.createElement(_.Z.Item,null,a.createElement(N.Z,{onChange:e=>{b(e.target.checked),s(!1),m(!1),f(!1)},checked:g},r("Download.File.CustomerStep"))))),a.createElement(h.Z,{gutter:16,style:{display:!c||d||p||g?"none":"block"}},a.createElement(Z.Z,{xs:24,md:24},a.createElement(a.Suspense,{fallback:(0,k.Z)(r("Download.File.Country"))},a.createElement(_.Z.Item,{name:"countries",label:r("Download.File.Country")},a.createElement(S.O,{onChange:e=>D(e),isMulti:!0})))),a.createElement(Z.Z,{xs:24},K)),a.createElement(h.Z,{gutter:16,style:{display:!d||c||p||g?"none":"block"}},a.createElement(Z.Z,{xs:24,md:24},a.createElement(a.Suspense,{fallback:(0,k.Z)(r("Download.File.Language"))},a.createElement(_.Z.Item,{name:"languages",label:r("Download.File.Language")},a.createElement(w.S,{onChange:e=>A(e),isMulti:!0})))),a.createElement(Z.Z,{xs:24},R)),a.createElement(h.Z,{gutter:16,style:{display:!p||c||d||g?"none":"block"}},a.createElement(Z.Z,{xs:24,md:24},a.createElement(a.Suspense,{fallback:(0,k.Z)(r("Download.File.CareerStep"))},a.createElement(_.Z.Item,{name:"careerSteps",label:r("Download.File.CareerStep")},a.createElement(x.Z,{onChange:e=>$(e),isMulti:!0})))),a.createElement(Z.Z,{xs:24},H)),a.createElement(h.Z,{gutter:16,style:{display:!g||c||d||p?"none":"block"}},a.createElement(Z.Z,{xs:24,md:24},a.createElement(a.Suspense,{fallback:(0,k.Z)(r("Download.File.CustomerStep"))},a.createElement(_.Z.Item,{name:"customerSteps",label:r("Download.File.CustomerStep")},a.createElement(P.Z,{onChange:e=>X(e),isMulti:!0})))),a.createElement(Z.Z,{xs:24},U))),a.createElement(h.Z,{justify:"end",gutter:[16,16]},a.createElement(Z.Z,null,a.createElement(E.Z,{style:{minWidth:180},type:"primary",htmlType:"submit",loading:n},r("Global.Submit"))),a.createElement(Z.Z,null,a.createElement(C.Z,{onConfirm:t},a.createElement(E.Z,{ghost:!0,danger:!0,type:"primary",icon:a.createElement(y.Z,null)})))))))}var q=()=>a.createElement("div",null,"Go to Download List, Something went wrong"),X=n(62848),K=n(92913),R=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n};var H=({filesData:e})=>{const{t:t}=(0,u.$)(),[n]=(0,d.KO)(X.D);if(!n)return a.createElement(q,null);const{mutate:l}=(0,m.useMutation)((({id:e,values:t})=>e?K.Rf.updateOne(e,t):K.Rf.createOne(t))),{mutate:r}=(0,m.useMutation)((e=>(0,K.Zu)(e))),[i,o]=(0,a.useState)(null!=e?e:[]),[c,s]=(0,a.useState)(-2);return a.createElement(U,null,a.createElement(h.Z,{className:"header",justify:"space-between"},a.createElement(Z.Z,null,a.createElement(v.Z.Title,{level:4},t("Download.File.FilesList"))),a.createElement(Z.Z,null,a.createElement(E.Z,{icon:a.createElement(g.Z,null),type:"primary",onClick:()=>{(null==i?void 0:i.some((e=>-1===e.id)))||o((e=>[{id:-1,name:"",file:null,image:null,countries:null,languages:null,is_active:!0,image_path:null,careerSteps:null,file_id:void 0,customerSteps:null,image_id:void 0,downloadCategories:[n]},...e]))}},t("Global.Create")))),null==i?void 0:i.map(((e,i)=>a.createElement($,{initialValues:e,key:`file-${i}`,isPending:c===e.id,onRemove:()=>(e=>{o((t=>t.filter((t=>t.id!==e)))),-1!==e&&(s(e),r(e,{onSuccess:()=>{b.ZP.success(t("Global.DeletedSuccessfully",{title:t("Download.File.Title")}))}}))})(e.id),onSubmit:a=>((e,a)=>{const{countries:r,downloadCategories:i,careerSteps:c,customerSteps:d,languages:u,file_id:m}=a,p=R(a,["countries","downloadCategories","careerSteps","customerSteps","languages","file_id"]);if(!m)return void b.ZP.error(t("Download.File.FileNotSelected"));s(e);const f=Array.isArray(i)?i.map((e=>e.id)):[],g=Object.assign({file_id:m,country_ids:null==r?void 0:r.map((e=>e.id)),language_ids:null==u?void 0:u.map((e=>e.id)),career_step_ids:null==c?void 0:c.map((e=>e.id)),customer_step_ids:null==d?void 0:d.map((e=>e.id)),download_category_ids:[n.id,...f]},p);l({id:-1===e?void 0:e,values:g},{onSuccess:t=>{-1===e&&o((e=>e.map((e=>-1===e.id?t:e))))},onSettled:()=>{s(-2)}})})(e.id,a)}))))};const U=p.ZP.div`
  & .header {
    padding: 16px 0;

    & button {
      min-width: 180px;
    }
  }
`;var W=()=>{const{t:e}=(0,u.$)(),t=(0,l.s0)(),{download_id:n}=(0,l.UO)(),c=new o.Z,[p,g]=(0,a.useState)(n),b=!p,[h,Z]=(0,a.useState)("1"),[,v]=(0,d.KO)(X.D),{data:E,isLoading:y,refetch:x}=(0,m.useQuery)(`download-categories/${p}`,(()=>p?c.apiService.getOne(+p):void 0),{onSuccess:e=>v(e)}),{data:S,isLoading:P}=(0,m.useQuery)(`download-files/${p}`,(()=>p?(0,K.f9)(+p):void 0)),w=c.title[0],C=[...c.breadcrumbItems,{path:"",breadcrumbName:p?`${r.ZP.t("Global.Update")} ${w} - ${p}`:`${r.ZP.t("Global.New")} ${w}`}];return a.createElement(a.Fragment,null,y&&P?a.createElement(i.aN,null):a.createElement(i.Xg,{module:c},a.createElement(i.Xg.Breadcrumb,{routes:C}),a.createElement(i.Xg.Panel,null,a.createElement(z,null,a.createElement(s.Z,{type:"card",activeKey:h,destroyInactiveTabPane:!0,className:"download-tabs",onChange:e=>{t("./",{replace:!0}),Z(e)}},a.createElement(s.Z.TabPane,{key:"1",tab:e("Download.Category.TabTitle")},a.createElement(f.default,{singleData:E,onCallback:e=>{b&&(g(e.id),t(`/admin/downloads/manage/${e.id}`,{replace:!0}),Z("2")),x()}})),a.createElement(s.Z.TabPane,{key:"2",tab:e("Download.File.TabTitle"),disabled:b},a.createElement(H,{filesData:S})))))))};const z=p.ZP.div`
  padding: 32px 16px;
  border-radius: 12px;
  background: #fff;
  margin-top: 16px;

  & .content {
    padding: 12px 0;
  }

  & .stock-tabs .ant-tabs-nav-list {
    margin-left: 0;

    & .ant-tabs-tab {
      flex: 1;
      display: flex;
      justify-content: center;
    }
    & .ant-tabs-tab-active {
      background-color: #009ddc;

      & .ant-tabs-tab-btn {
        color: white;
      }
    }
  }
`;function B(){return a.createElement(l.Z5,null,a.createElement(l.AW,{path:"",element:a.createElement(c,null)}),a.createElement(l.AW,{path:"/manage",element:a.createElement(W,null)}),a.createElement(l.AW,{path:"/manage/:download_id",element:a.createElement(W,null)}))}},62848:function(e,t,n){n.d(t,{I:function(){return s},D:function(){return d}});var a=n(39338),l=n(59748),r=n(90958),i=(n(46320),function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):l(e.value).then(i,o)}c((a=a.apply(e,t||[])).next())}))});const o=(0,a.cn)([]),c=new r.Z,s=(0,l.el)((e=>({queryKey:["download-category",e(o)],queryFn:()=>i(void 0,void 0,void 0,(function*(){return(yield c.apiService.getAll({pagination:{per_page:100}})).data}))}))),d=(0,a.cn)(void 0)},92913:function(e,t,n){n.d(t,{Rf:function(){return c},f9:function(){return s},Zu:function(){return d}});var a=n(38056),l=n(34234),r=n(14206),i=n.n(r),o=(n(68513),function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{c(a.next(e))}catch(e){r(e)}}function o(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){e.done?n(e.value):l(e.value).then(i,o)}c((a=a.apply(e,t||[])).next())}))});const c=new l.Vx("download-files",a.ZP.t("Download.File.Title"));function s(e){return o(this,void 0,void 0,(function*(){return yield(yield c.getAll({params:{downloadCategoryIds:[e]}})).data}))}function d(e){return o(this,void 0,void 0,(function*(){try{yield i().delete(`download-files/${e}`)}catch(e){throw new Error(e)}}))}},41156:function(e,t,n){var a=n(38056),l=n(37144),r=n(27378);t.Z=({children:e,onConfirm:t,isDisabled:n=!1,placement:i="bottom"})=>r.createElement(l.Z,{placement:i,disabled:n,onConfirm:t,okText:a.ZP.t("Global.Yes"),cancelText:a.ZP.t("Global.Cancel"),title:a.ZP.t("Global.DeleteSelectedRows?")},e)},91183:function(e){e.exports=JSON.parse('{"AW":"careerstsdsdeps/*"}')},11577:function(e){e.exports=JSON.parse('{"AW":"/customsdsaersteps/*"}')}}]);