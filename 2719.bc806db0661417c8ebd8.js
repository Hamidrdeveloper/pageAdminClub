(self.webpackChunk=self.webpackChunk||[]).push([[2719],{38541:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var l=n(49839),o=(n(80631),n(55088),n(39338));const r=(0,o.cn)(null),i=(0,o.cn)([]),a=(0,o.cn)(null),d=(0,o.cn)(null),u=(0,o.cn)(null);n(95171);var c=n(14206),s=n.n(c),v=function(e,t,n,l){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(l.next(e))}catch(e){r(e)}}function a(e){try{d(l.throw(e))}catch(e){r(e)}}function d(e){e.done?n(e.value):o(e.value).then(i,a)}d((l=l.apply(e,t||[])).next())}))};const m=(e,t)=>v(void 0,void 0,void 0,(function*(){try{return(yield s().get("/shop/product-variations/list",{params:{isActive:!0,userId:e,search:t}})).data}catch(e){throw new Error(e)}}));var p=n(26490),E=n(35062),h=n(10374),y=n(9172),f=n(52395),g=n(27378),b=n(60071),Z=n(56552);var _=()=>{const[e]=(0,o.KO)(r),[t,n]=(0,o.KO)(i),{t:l}=(0,b.$)(),[a,d]=(0,g.useState)(),{Title:u,Text:c}=p.Z;a&&console.log(JSON.parse(a),"JSON.parse(productItem)");const s=(null==t?void 0:t.length)&&(null==t?void 0:t.some((e=>e.id===JSON.parse(a).id)));(0,g.useMemo)((()=>{a&&!s&&n([...t,{id:JSON.parse(a).id,product:JSON.parse(a),count:1}])}),[a]);const[v,_]=(0,g.useState)(""),{data:w,isLoading:O}=(0,Z.useQuery)(["dashboard-products",v],(()=>m(null==e?void 0:e.id,v))),x=(0,g.useMemo)((()=>{var e;return null===(e=null==w?void 0:w.data)||void 0===e?void 0:e.map((e=>({value:JSON.stringify(e),label:null==e?void 0:e.name})))}),[w]);return g.createElement(E.Z,null,g.createElement(h.Z,{span:5},g.createElement(u,{level:5},l("OrderDashboard.Product"),":")),g.createElement(h.Z,{span:14},g.createElement(y.Z,{showSearch:!0,onSearch:e=>_(e),placeholder:"Choose Product",notFoundContent:O?g.createElement(f.Z,{size:"small"}):g.createElement(c,{type:"warning"},"no item !"),style:{width:"100%"},options:x,onSelect:e=>{d(e)}})))},w=function(e,t,n,l){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(l.next(e))}catch(e){r(e)}}function a(e){try{d(l.throw(e))}catch(e){r(e)}}function d(e){e.done?n(e.value):o(e.value).then(i,a)}d((l=l.apply(e,t||[])).next())}))};const O=e=>w(void 0,void 0,void 0,(function*(){try{return(yield s().get(`/users/list-create-order?search=${e}&isActive=true`)).data}catch(e){throw new Error(e)}})),x=()=>w(void 0,void 0,void 0,(function*(){try{return(yield s().get("/configs/data")).data}catch(e){throw new Error(e)}}));var S=()=>{const{t:e}=(0,b.$)(),{Title:t,Text:n}=p.Z,[l,i]=(0,g.useState)(),[a,d]=(0,g.useState)(""),{data:u,isLoading:c}=(0,Z.useQuery)(["dashboard-users",a],(()=>O(a))),[,s]=(0,o.KO)(r),v=(0,g.useMemo)((()=>{var e;return null===(e=null==u?void 0:u.data)||void 0===e?void 0:e.map((e=>{var t,n;return{value:JSON.stringify([null===(t=null==e?void 0:e.person)||void 0===t?void 0:t.first_name,null==e?void 0:e.id]),label:null===(n=null==e?void 0:e.person)||void 0===n?void 0:n.first_name}}))}),[u]);return(0,g.useMemo)((()=>l&&s(null==u?void 0:u.data.find((e=>e.id==JSON.parse(l)[1])))),[l]),g.createElement(E.Z,null,g.createElement(h.Z,{span:5},g.createElement(t,{level:5},e("OrderDashboard.Buyer"),":")),g.createElement(h.Z,{span:14},g.createElement(y.Z,{showSearch:!0,onSearch:e=>d(e),placeholder:"Choose Buyer",notFoundContent:c?g.createElement(f.Z,{size:"small"}):g.createElement(n,{type:"warning"},"no item !"),style:{width:"100%"},options:v,onSelect:e=>i(e)})))},D=(n(24876),function(e,t,n,l){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(l.next(e))}catch(e){r(e)}}function a(e){try{d(l.throw(e))}catch(e){r(e)}}function d(e){e.done?n(e.value):o(e.value).then(i,a)}d((l=l.apply(e,t||[])).next())}))});var C=()=>{const{data:e,isLoading:t}=(0,Z.useQuery)(["shipping-methods"],(()=>D(void 0,void 0,void 0,(function*(){try{return(yield s().get("/ClubAdmin/GetAllBoards")).data}catch(e){throw new Error(e)}})))),{t:n}=(0,b.$)(),{Title:l}=p.Z,[,r]=(0,o.KO)(u),i=(0,g.useMemo)((()=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.map((e=>({value:e.id,label:null==e?void 0:e.name})))}),[e]);return g.createElement(E.Z,null,g.createElement(h.Z,{span:6},g.createElement(l,{level:5},n("OrderDashboard.ShippingMethod"),":")),g.createElement(h.Z,{span:12},g.createElement(y.Z,{notFoundContent:t?g.createElement(f.Z,{size:"small"}):null,placeholder:"Choose Shipping Method",onChange:e=>{r(e)},style:{width:"100%"},options:i})))};const I=n(26761).ZP.div`
  .ant-row {
    margin: 20px 0;
  }
`;n(34570);var P=function(e,t,n,l){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(l.next(e))}catch(e){r(e)}}function a(e){try{d(l.throw(e))}catch(e){r(e)}}function d(e){e.done?n(e.value):o(e.value).then(i,a)}d((l=l.apply(e,t||[])).next())}))};const M=e=>P(void 0,void 0,void 0,(function*(){try{return(yield s().post("/basket/bulk-add",e)).data}catch(e){throw new Error(e)}})),T=e=>P(void 0,void 0,void 0,(function*(){try{return(yield s().post("/order-sales/basket",e)).data}catch(e){throw new Error(e)}}));var k=n(31675),N=n(58836),A=n(2133),F=n(56591),K=n(98784),$=n(96740),j=n(64926),L=n.n(j),W=(n(68600),function(e,t,n,l){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(l.next(e))}catch(e){r(e)}}function a(e){try{d(l.throw(e))}catch(e){r(e)}}function d(e){e.done?n(e.value):o(e.value).then(i,a)}d((l=l.apply(e,t||[])).next())}))});const z=(e,t)=>W(void 0,void 0,void 0,(function*(){try{return(yield s().get("/payment-methods?per_page=100",{params:{isActive:!0,companyCountryId:e,companyCurrencyId:t}})).data}catch(e){throw new Error(e)}}));var B=()=>{var e,t,n,l,i,a,u;const[c]=(0,o.KO)(r),s=null===(n=null===(t=null===(e=null==c?void 0:c.invoiceContactGroup)||void 0===e?void 0:e.address)||void 0===t?void 0:t.country)||void 0===n?void 0:n.id,v=null===(u=null===(a=null===(i=null===(l=null==c?void 0:c.invoiceContactGroup)||void 0===l?void 0:l.address)||void 0===i?void 0:i.country)||void 0===a?void 0:a.currency)||void 0===u?void 0:u.id,{data:m,isLoading:_}=(0,Z.useQuery)(["payment-methods",c],(()=>z(s,v))),{t:w}=(0,b.$)(),[,O]=(0,o.KO)(d),{Title:x,Text:S}=p.Z,D=(0,g.useMemo)((()=>{var e;return null===(e=null==m?void 0:m.data)||void 0===e?void 0:e.map((e=>({value:e.id,label:null==e?void 0:e.name})))}),[m]);return g.createElement(E.Z,null,g.createElement(h.Z,{span:6},g.createElement(x,{level:5},w("OrderDashboard.PaymentMethod"),":")),g.createElement(h.Z,{span:12},g.createElement(y.Z,{notFoundContent:_?g.createElement(f.Z,{size:"small"}):g.createElement(S,{type:"warning"},"no item !"),onChange:e=>{O(e)},placeholder:"Choose Payment Method",style:{width:"100%"},options:D})))},J=n(97645),V=n(21244),G=n(97851),Q=n(42027);var R=()=>{const{Text:e}=p.Z,{t:t}=(0,b.$)(),[n]=(0,o.KO)(a),[l,r]=(0,o.KO)(i),d=[{title:t("OrderDashboard.ProductVariationId"),dataIndex:"id",width:"15%"},{title:t("OrderDashboard.ProductVariationNumber"),dataIndex:"number",width:"15%"},{title:t("OrderDashboard.Name"),dataIndex:"name",width:"20%"},{title:t("OrderDashboard.Quantity"),dataIndex:"quantity",width:"10%",render:(t,n)=>{const[o,i]=(0,g.useState)(1);return g.createElement(g.Fragment,null,void 0!==t&&g.createElement("div",{style:{display:"flex",alignItems:"center"}},g.createElement(J.Z,{onClick:function(){o>0&&i(o-1);const e=[...l];e.find((e=>e.id===n.id)).count=o-1,r(e)}}),g.createElement("div",{style:{textAlign:"center"}},g.createElement(G.Z,{onChange:e=>{!function(e){i(parseInt(e.target.value));const t=[...l];t.find((e=>e.id===n.id)).count=parseInt(e.target.value),r(t)}(e||"")},value:o,style:{width:"70px",margin:"0 10px"}})),g.createElement(V.Z,{onClick:function(){i(o+1);const e=[...l];e.find((e=>e.id===n.id)).count=o+1,r(e)}})),o>t&&g.createElement(e,{type:"danger",style:{padding:" 5px 25px"}},"out of limit !"))}},{title:t("OrderDashboard.PriceNet"),dataIndex:["sale_price","value_after_discount"],width:"10%",render:e=>{var t,l;return(0,k.v3)(null!==(l=null===(t=null==n?void 0:n.currency)||void 0===t?void 0:t.iso3)&&void 0!==l?l:"EUR",null!=e?e:0)}},{title:"VAT%",dataIndex:["sale_price","vat_percent"],width:"10%"},{title:t("OrderDashboard.PriceGross"),dataIndex:["sale_price","gross_value_after_discount"],width:"10%",render:e=>{var t,l;return(0,k.v3)(null!==(l=null===(t=null==n?void 0:n.currency)||void 0===t?void 0:t.iso3)&&void 0!==l?l:"EUR",null!=e?e:0)}},{title:t("OrderDashboard.ProvisionPrice"),dataIndex:"productVariationMlmDetails",width:"10%",render:e=>{var t,l,o,r;return e&&(0,k.v3)(null!==(l=null===(t=null==n?void 0:n.currency)||void 0===t?void 0:t.iso3)&&void 0!==l?l:"EUR",null!==(r=null===(o=e[0])||void 0===o?void 0:o.provision_price)&&void 0!==r?r:0)}},{title:"POP",dataIndex:"productVariationMlmDetails",width:"10%",render:e=>{var t;return g.createElement("p",null,e&&(null===(t=e[0])||void 0===t?void 0:t.percentage_of_provision))}}],u=(0,g.useMemo)((()=>{const e=l.map((e=>{var t,n,l,o,r;return{net:((null===(t=e.product.sale_price)||void 0===t?void 0:t.value_after_discount)||0)*e.count,gross:((null===(l=null===(n=e.product)||void 0===n?void 0:n.sale_price)||void 0===l?void 0:l.gross_value_after_discount)||0)*e.count,pop:((null===(r=null===(o=e.product)||void 0===o?void 0:o.productVariationMlmDetails[0])||void 0===r?void 0:r.provision_price)||0)*e.count}}));return[...l.map((e=>e.product)),{id:"Total",sale_price:{value_after_discount:(0,K.sumBy)(e,"net"),gross_value_after_discount:(0,K.sumBy)(e,"gross")},productVariationMlmDetails:[{provision_price:(0,K.sumBy)(e,"pop")}]}]}),[l]);return g.createElement(g.Fragment,null,g.createElement(A.Z,{orientation:"left"},t("OrderDashboard.SelectedProducts")),g.createElement(N.Z,null,g.createElement(Q.Z,{rowKey:"id",className:"selectedProductsTable",columns:d,dataSource:u})))},U=(n(6673),function(e,t,n,l){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{d(l.next(e))}catch(e){r(e)}}function a(e){try{d(l.throw(e))}catch(e){r(e)}}function d(e){e.done?n(e.value):o(e.value).then(i,a)}d((l=l.apply(e,t||[])).next())}))});const H=e=>U(void 0,void 0,void 0,(function*(){try{return(yield s().get(`/user/${e}/contact-groups`)).data}catch(e){throw new Error(e)}}));var q=n(72538),X=n(34234),Y=n(21329),ee=n(72961);var te=({isPartner:e})=>{var t,n;const[l,i]=(0,g.useState)([]),[d,u]=(0,g.useState)(!1),[c,s]=(0,g.useState)(),{Title:v,Text:m}=p.Z,[_]=(0,o.KO)(r),[w,O]=(0,o.KO)(a),{data:x,isLoading:S,refetch:D}=(0,Z.useQuery)(["contact-groups",null==_?void 0:_.id],(()=>H(_.id)),{enabled:(null==_?void 0:_.id)>0});(0,g.useMemo)((()=>{var e,t,n,l;x&&w.invoice&&s(null===(l=null===(n=null===(t=null===(e=null==x?void 0:x.data)||void 0===e?void 0:e.find((e=>e.id===w.invoice[1])))||void 0===t?void 0:t.address)||void 0===n?void 0:n.country)||void 0===l?void 0:l.currency)}),[w]),(0,g.useMemo)((()=>O((e=>Object.assign(Object.assign({},e),{currency:c})))),[c]);const{t:C}=(0,b.$)();return(0,g.useMemo)((()=>{var e;return x&&i(null===(e=x.data)||void 0===e?void 0:e.map((e=>{var t,n;return[`${null==e?void 0:e.title}-${null===(t=null==e?void 0:e.address)||void 0===t?void 0:t.city}`,null==e?void 0:e.id,null===(n=null==e?void 0:e.address)||void 0===n?void 0:n.address_complete]})))}),[x,_]),(0,g.useEffect)((()=>{_&&O((e=>{var t,n,l,o,r,i;return Object.assign(Object.assign({},e),{invoice:[`${null===(n=null===(t=null==_?void 0:_.invoiceContactGroup)||void 0===t?void 0:t.address)||void 0===n?void 0:n.title}-${null===(o=null===(l=null==_?void 0:_.invoiceContactGroup)||void 0===l?void 0:l.address)||void 0===o?void 0:o.city}`,null==_?void 0:_.invoice_contact_group_id,null===(i=null===(r=null==_?void 0:_.invoiceContactGroup)||void 0===r?void 0:r.address)||void 0===i?void 0:i.address_complete]})}))}),[_]),g.createElement(g.Fragment,null,g.createElement(Y.Z,{width:"810px",title:C("OrderDashboard.AddNewAddress"),visible:d,footer:!1,onCancel:()=>u(!1)},g.createElement("div",{style:{width:"700px"}},g.createElement(q.default,{api:e=>new X.Vx("").request({url:`/user/${null==_?void 0:_.id}/contact-groups`,method:"POST",body:Object.assign(Object.assign({},e),{user_id:null==_?void 0:_.id})}).then((()=>{u(!1),D()}))}))),g.createElement(E.Z,null,g.createElement(h.Z,{span:5},g.createElement(v,{level:5},C("OrderDashboard.InvoiceAddress"),":")),g.createElement(h.Z,{span:14},g.createElement(y.Z,{value:null===(t=null==w?void 0:w.invoice)||void 0===t?void 0:t[0],onSelect:e=>O((t=>Object.assign(Object.assign({},t),{invoice:e}))),disabled:!(null==_?void 0:_.id),notFoundContent:S?g.createElement(f.Z,{size:"small"}):g.createElement(m,{type:"warning"},"no item !"),style:{width:"100%"},placeholder:"Choose Invoice Address",dropdownRender:t=>g.createElement(g.Fragment,null,t,!e&&g.createElement(g.Fragment,null,g.createElement(A.Z,{style:{margin:"8px 0"}}),g.createElement(ee.Z,{style:{padding:"0 8px 4px"}},g.createElement(F.Z,{type:"text",icon:g.createElement(V.Z,null),onClick:()=>u(!0)},"Add item")))),options:null==l?void 0:l.map((e=>({label:e,value:e})))}))),g.createElement(E.Z,null,g.createElement(h.Z,{span:5},g.createElement(v,{level:5},C("OrderDashboard.DeliveryAddress"),":")),g.createElement(h.Z,{span:14},g.createElement(y.Z,{value:(null===(n=null==w?void 0:w.delivery)||void 0===n?void 0:n[0])||"",onSelect:e=>O((t=>Object.assign(Object.assign({},t),{delivery:e}))),disabled:!(null==_?void 0:_.id),notFoundContent:S?g.createElement(f.Z,{size:"small"}):g.createElement(m,{type:"warning"},"no item !"),style:{width:"100%"},placeholder:"Choose Delivery Address",dropdownRender:e=>g.createElement(g.Fragment,null,e,g.createElement(A.Z,{style:{margin:"8px 0"}}),g.createElement(ee.Z,{style:{padding:"0 8px 4px"}},g.createElement(F.Z,{type:"text",icon:g.createElement(V.Z,null),onClick:()=>u(!0)},"Add item"))),options:null==l?void 0:l.map((e=>({label:e,value:e})))}))))};var ne=()=>{var e,t,n,c,s,v,m,y,w,O,D,P,j,W,z,J,V,G,Q,U,H,q,X,Y;const{t:ee}=(0,b.$)(),ne=(0,$.s0)(),{Title:le}=p.Z,[oe,re]=(0,g.useState)(!1),[ie]=(0,o.KO)(r),[ae]=(0,o.KO)(a),[de]=(0,o.KO)(i),[ue]=(0,o.KO)(u),[ce]=(0,o.KO)(d),{mutate:se,isLoading:ve}=(0,Z.useMutation)(M,{onSuccess:()=>re(!0)}),{mutate:me,isLoading:pe}=(0,Z.useMutation)(T),{data:Ee}=(0,Z.useQuery)(["config",ie],x);console.log(pe,"finalizeLoading");const he=null===(t=null===(e=null==Ee?void 0:Ee.data)||void 0===e?void 0:e.transportation_rule)||void 0===t?void 0:t.min_partner_amount,ye=null===(c=null===(n=null==Ee?void 0:Ee.data)||void 0===n?void 0:n.shipping_cost_rule)||void 0===c?void 0:c.amount,fe=null===(v=null===(s=null==Ee?void 0:Ee.data)||void 0===s?void 0:s.shipping_cost_rule)||void 0===v?void 0:v.min_amount,[ge,be]=(0,g.useState)(0),[Ze,_e]=(0,g.useState)(),we=ge<he?he:ge,Oe=de.map((e=>{var t;return{net:((null===(t=e.product.sale_price)||void 0===t?void 0:t.value_after_discount)||0)*e.count}})),xe=(0,K.sumBy)(Oe,"net")<fe?ye:0;return(0,g.useMemo)((()=>{var e,t,n,l,o,r;const i=[],a=[];if(de)for(const d of de){const u=parseInt(((null===(t=null===(e=d.product)||void 0===e?void 0:e.sale_price)||void 0===t?void 0:t.value)-(null===(l=null===(n=d.product)||void 0===n?void 0:n.sale_price)||void 0===l?void 0:l.value_after_discount)).toFixed(2)),c=null===(r=null===(o=d.product)||void 0===o?void 0:o.transportation)||void 0===r?void 0:r.value;i.push(u),a.push(c)}a.length&&be(null==a?void 0:a.reduce(((e,t)=>e+t))),i.length&&_e(null==i?void 0:i.reduce(((e,t)=>e+t)))}),[de]),g.createElement(I,null,g.createElement(N.Z,null,g.createElement(E.Z,null,g.createElement(h.Z,{span:12},g.createElement(S,null),ie&&g.createElement(E.Z,null,g.createElement(h.Z,{span:5},g.createElement(le,{level:5},ee("OrderDashboard.Info"),":")),g.createElement(h.Z,{span:14},g.createElement(N.Z,{bordered:!0,title:g.createElement("h4",null,((null==ie?void 0:ie.partner)?"Partner":"Customer")+" Info")},(null==ie?void 0:ie.partner)?g.createElement("div",null,g.createElement("div",{style:{display:"flex",width:"440px",justifyContent:"space-between"}},g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}}," First Name: "),g.createElement("span",null,null===(m=null==ie?void 0:ie.person)||void 0===m?void 0:m.first_name," ")),g.createElement("div",null),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}}," Last Name: "),g.createElement("span",null," ",null===(y=null==ie?void 0:ie.person)||void 0===y?void 0:y.last_name)),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}}," ID: "),g.createElement("span",null," ",null===(w=null==ie?void 0:ie.person)||void 0===w?void 0:w.id))),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}},"Career Step : "),g.createElement("span",null," ",null===(O=null==ie?void 0:ie.careerStep)||void 0===O?void 0:O.slug," ")),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}},"Sponsor: "),g.createElement("span",null,null===(D=null==ie?void 0:ie.sponsor)||void 0===D?void 0:D.bank_name," "))):g.createElement("div",null,g.createElement("div",{style:{display:"flex",width:"355px",justifyContent:"space-between"}},g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}}," First Name: "),g.createElement("span",null,null===(P=null==ie?void 0:ie.person)||void 0===P?void 0:P.first_name," ")),g.createElement("div",null),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}}," Last Name: "),g.createElement("span",null," ",null===(j=null==ie?void 0:ie.person)||void 0===j?void 0:j.last_name)),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}}," ID: "),g.createElement("span",null," ",null===(W=null==ie?void 0:ie.person)||void 0===W?void 0:W.id))),g.createElement("div",null,g.createElement("span",{style:{fontWeight:"bold"}},"Discount: "),g.createElement("span",null,null==ie?void 0:ie.discount_ratio,"% ")),g.createElement("span",{style:{fontWeight:"bold"}},"Sponsor: "),g.createElement("span",null,null===(z=null==ie?void 0:ie.sponsor)||void 0===z?void 0:z.bank_name," "))))),g.createElement(te,{isPartner:!!(null==ie?void 0:ie.partner)}),g.createElement(_,null)),g.createElement(h.Z,{span:12},g.createElement(E.Z,{justify:"space-around"},g.createElement(h.Z,{span:10},g.createElement(N.Z,{title:ee("OrderDashboard.Invoice"),bordered:!0,style:{minHeight:"100px"}},g.createElement("div",{dangerouslySetInnerHTML:{__html:L()(null===(J=null==ae?void 0:ae.invoice)||void 0===J?void 0:J[2])}}))),g.createElement(h.Z,{span:10},g.createElement(N.Z,{title:ee("OrderDashboard.Delivery"),bordered:!0,style:{minHeight:"100px"}},g.createElement("div",{dangerouslySetInnerHTML:{__html:L()(null===(V=null==ae?void 0:ae.delivery)||void 0===V?void 0:V[2])}}))))))),g.createElement(R,null),g.createElement(A.Z,{orientation:"left"},ee("OrderDashboard.FinalizeOrder")),g.createElement(N.Z,null,g.createElement(E.Z,null,g.createElement(h.Z,{span:10},g.createElement(B,null),g.createElement(C,null)),g.createElement(h.Z,{span:8},g.createElement(N.Z,{title:ee("OrderDashboard.Summary"),bordered:!0,style:{width:300}},g.createElement("p",null,ee("OrderDashboard.Total")," :",(0,K.reduce)(de.map((e=>e.count)),((e,t)=>e+t),0)),g.createElement("p",null,ee("OrderDashboard.ShippingCost")," :",(0,k.v3)(null!==(Q=null===(G=null==ae?void 0:ae.currency)||void 0===G?void 0:G.iso3)&&void 0!==Q?Q:"EUR",null!==(U=(null==ie?void 0:ie.partner)?we:xe)&&void 0!==U?U:0)),g.createElement("p",null,ee("OrderDashboard.Discount")," :",(0,k.v3)(null!==(q=null===(H=null==ae?void 0:ae.currency)||void 0===H?void 0:H.iso3)&&void 0!==q?q:"EUR",null!=Ze?Ze:0)),(null==ie?void 0:ie.partner)&&g.createElement("p",null," ",ee("OrderDashboard.CareerStepDiscount")," :",(null===(X=null==ie?void 0:ie.careerStep)||void 0===X?void 0:X.discount_percentage)||0," %"),(null==ie?void 0:ie.partner)&&g.createElement("p",null,ee("OrderDashboard.PartnerDiscount")," : ",(null==ie?void 0:ie.discount_ratio)||0,"%"," "),(null==ie?void 0:ie.partner)&&g.createElement("p",null,ee("OrderDashboard.CareerStepBonus")," : ",null===(Y=null==ie?void 0:ie.careerStep)||void 0===Y?void 0:Y.voucher_level," "))),g.createElement(h.Z,{span:4,style:{margin:"20px"}},g.createElement("div",{style:{marginBottom:"16px"}},g.createElement(F.Z,{type:"primary",onClick:function(){const e=[];if(de)for(const t of de)e.push({count:1,product_variation_id:null==t?void 0:t.id});const t={items:e,user_id:null==ie?void 0:ie.id};se(t)},style:{minWidth:"150px"}},ve?g.createElement(f.Z,{indicator:g.createElement(l.Z,{style:{fontSize:24,color:"#fff"},spin:!0})}):ee("OrderDashboard.AddBulk"))),g.createElement("div",null,g.createElement(F.Z,{disabled:!oe,onClick:function(){const e={payment_method_id:ce,shipping_profile_id:ue,invoice_contact_group_id:ae?parseInt(ae.invoice[1]):"",delivery_contact_group_id:ae?parseInt(ae.delivery[1]):"",user_id:null==ie?void 0:ie.id};me(e,{onSuccess:e=>{var t;console.log(e,"response"),ne(`/admin/orders/order-sale/${null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.orderSale.id}`)}})},type:"primary",style:{minWidth:"150px"}},pe?g.createElement(f.Z,{indicator:g.createElement(l.Z,{style:{fontSize:24,color:"#fff"},spin:!0})}):ee("OrderDashboard.Checkout")))))))}},15710:function(){},90473:function(){},35426:function(){},80984:function(){},99121:function(){}}]);