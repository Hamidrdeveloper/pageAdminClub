"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8722],{79213:function(e,t,l){l.d(t,{Z:function(){return d},b:function(){return o}});var a=l(38056),r=(l(95171),l(34234)),i=l(27378),n=(l(52190),l(95699));class d{constructor(){this.entity="/number-series",this.title=[a.ZP.t("NumberSeries.Title"),a.ZP.t("NumberSeries.Title",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,i.lazy)((()=>l.e(5023).then(l.bind(l,25023)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${n.AW.replace("*","")}`}],this.detailColumns=[{key:"name",label:a.ZP.t("NumberSeries.Field.Name")},{key:"active_manual",label:a.ZP.t("NumberSeries.Field.ActiveManual")},{key:"date_order",label:a.ZP.t("NumberSeries.Field.DateOrder")}],this.tableColumns=[{key:"name",width:90,title:a.ZP.t("Global.Name"),className:"hasTile ",dataIndex:"name"},{key:"slug",width:180,title:a.ZP.t("NumberSeries.Field.Type"),dataIndex:["numberSeriesType","slug"]}]}}class o{constructor(){this.entity="/number-series-types",this.title=[a.ZP.t("NumberSeries.Field.Type"),a.ZP.t("NumberSeries.Field.Type",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0])}}},31006:function(e,t,l){l.d(t,{y:function(){return c}});l(52190);var a=l(34234),r=l(60042),i=l.n(r),n=l(27378),d=l(60071),o=l(62500),u=l(79213);var c=function({slug:e,value:t,onChange:l,disabled:r=!1,isPending:c,menuPlacement:s="bottom"}){const{t:m}=(0,d.$)(),b=new u.Z,[p,P]=(0,n.useState)(!1),[h,_]=(0,n.useState)([]);return(0,n.useEffect)((()=>{P(!0),b.apiService.request({url:`number-series-positions/get-by-slug?slug=${e}`,method:"GET"}).then((e=>{_(e)})).finally((()=>P(!1)))}),[]),n.createElement(o.ZP,{isClearable:!0,value:h.find((e=>e.id===t)),isDisabled:r,options:h,menuPlacement:s,onChange:e=>e?null==l?void 0:l(e.id):null==l?void 0:l(void 0),isLoading:null!=c?c:p,getOptionValue:e=>e.id,getOptionLabel:e=>{var t;return`ID: [${null==e?void 0:e.id}]  ${null==e?void 0:e.number_series.name} ${null==e?void 0:e.prefix} ${null==e?void 0:e.starting_number} - ${null!==(t=null==e?void 0:e.ending_number)&&void 0!==t?t:"âˆž"}`},theme:e=>(0,a.$p)(e),classNamePrefix:i()("react-select"),placeholder:m("Global.SelectPlaceholder",{title:m("NumberSeries.Title")})})}},52190:function(e,t,l){l(9378),l(95171)},1739:function(e,t,l){l.d(t,{Z:function(){return o}});var a=l(38056),r=(l(95171),l(34234)),i=l(27378),n=l(50644),d=(l(14089),l(50034));class o{constructor(){this.entity="/products",this.title=[a.ZP.t("Product.Title"),a.ZP.t("Product.Title",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,i.lazy)((()=>Promise.resolve().then(l.bind(l,61261)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${d.AW.replace("*","")}`}],this.detailColumns=[{key:"file",label:a.ZP.t("Product.Field.Image"),render:n.np},{key:"name",label:a.ZP.t("Global.Name")},{key:"number",label:a.ZP.t("Global.Number")},{key:"maximum_sale_for_each_user",label:a.ZP.t("Product.Field.MaxSaleForEachUser")},{key:"default_vat",label:a.ZP.t("Product.Field.DefaultVat")},{key:"interval_order_quantity",label:a.ZP.t("Product.Field.IntervalOrderQuantity")},{key:"max_order_quantity",label:a.ZP.t("Product.Field.MaxOrderQuantity")},{key:"release_date",render:n.WN,label:a.ZP.t("Product.Field.ReleaseDate")},{key:"available_until",render:n.WN,label:a.ZP.t("Product.Field.AvailableUntil")},{key:"price_visible",label:a.ZP.t("Product.Field.PriceVisible")},{key:"auto_active_net_stock",label:a.ZP.t("Product.Field.AutoActiveNetStock")},{key:"auto_deactive_net_stock",label:a.ZP.t("Product.Field.AutoDeactiveNetStock")}],this.tableColumns=[{key:"name",title:a.ZP.t("Global.Name"),dataIndex:"name",width:250,className:"hasTile"},{width:50,key:"file",dataIndex:"file",className:"hasTile mainImage",render:n.zg,title:a.ZP.t("Product.Field.Image")},{sorter:!0,key:"number",title:a.ZP.t("Global.Number"),dataIndex:"number",className:"hasTile",width:100},{className:"hasTile",render:n.w7,key:"min_order_quantity",dataIndex:"min_order_quantity",title:a.ZP.t("Product.Field.MinOrderQuantity")},{className:"hasTile",render:n.w7,key:"max_order_quantity",dataIndex:"max_order_quantity",title:a.ZP.t("Product.Field.MaxOrderQuantity")},{render:n.JK,className:"hasTile",key:"available_until",dataIndex:"available_until",title:a.ZP.t("Product.Field.AvailableUntil")},{key:"release_date",render:n.JK,className:"hasTile",dataIndex:"release_date",title:a.ZP.t("Product.Field.ReleaseDate")}]}}},61261:function(e,t,l){l.r(t),l.d(t,{default:function(){return E}});l(95171);var a=l(12606),r=l(27378),i=l(60071),n=l(56552),d=l(31006),o=l(33996),u=l(31675),c=l(3288),s=l(10374),m=l(35062),b=l(97851),p=l(25724),P=l(28681),h=l(48158),_=l(61320),y=l.n(_),v=(l(14089),l(26761));var Z={SingleProductRow:(0,v.ZP)(m.Z)`
  padding: 20px;

  &.name-desc-container {
    background-color: #fafafa;
    border-radius: 5px;
    margin: 12px !important;
    border: 1px solid rgba(0, 0, 0, 0.2);
    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.3);
  }
`,BoxShadow:v.ZP.div`
  padding: 12px;
  border-radius: 4px;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);

  &.right-side {
    margin-top: 42px;
  }

  & > .ant-form-item {
    margin-bottom: 0;
    padding: 20px;
    :nth-child(even) {
      background-color: #fbfbfb;
    }
    :nth-child(odd) {
      background-color: rgb(242, 242, 242);
    }
  }
`};var g=({onSubmit:e,isPending:t,initialValues:l})=>{const{t:a}=(0,i.$)(),[n]=c.Z.useForm();return(0,r.useEffect)((()=>{l&&n.setFieldsValue(Object.assign(Object.assign({},l),{release_date:l.release_date?y()(l.release_date):null,available_until:l.available_until?y()(l.available_until):null}))}),[l]),r.createElement(c.Z,{form:n,colon:!1,name:"product-form",onFinish:e,labelAlign:"left",layout:"vertical",initialValues:{is_active:!1,price_visible:!0,auto_active_net_stock:!1,auto_deactive_net_stock:!1,translate:[{locale:void 0,name:"",description:""}]}},r.createElement(Z.SingleProductRow,{gutter:[16,16]},r.createElement(s.Z,{span:12},r.createElement("h2",null,a("Product.ProductImage")),r.createElement(m.Z,{align:"middle"},r.createElement(s.Z,{flex:1},r.createElement(c.Z.Item,{name:"file",style:{marginBottom:12}},r.createElement(o.gq,{type:"dragger",form:n})),r.createElement(c.Z.Item,{hidden:!0,name:"file_id"},r.createElement(r.Fragment,null)))),r.createElement(Z.BoxShadow,null,r.createElement("h2",null,a("Product.BasicSetting")),r.createElement(c.Z.Item,{name:"number",label:a("Global.Number")},r.createElement(b.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Global.Number")})})),!l&&r.createElement(c.Z.Item,{name:"number_series_position_id",label:a("Product.Field.NumberSeries")},r.createElement(d.y,{slug:"product"})),r.createElement(c.Z.Item,{name:"default_vat",label:a("Product.Field.DefaultVat"),rules:[{required:!0}]},r.createElement(p.Z,{min:0,max:100,placeholder:a("Global.InputPlaceholder",{title:a("Product.Field.DefaultVat")})})),r.createElement(c.Z.Item,{label:a("Product.Field.Sort"),name:"sort"},r.createElement(p.Z,{min:0,placeholder:a("Global.InputPlaceholder",{title:a("Product.Field.Sort")})})))),r.createElement(s.Z,{span:12},r.createElement(Z.BoxShadow,{className:"right-side"},r.createElement(c.Z.Item,{name:"max_order_quantity",label:a("Product.Field.MaxOrderQuantity")},r.createElement(p.Z,{min:1,placeholder:a("Global.InputPlaceholder",{title:a("Product.Field.MaxOrderQuantity")})})),r.createElement(c.Z.Item,{name:"min_order_quantity",label:a("Product.Field.MinOrderQuantity")},r.createElement(p.Z,{min:1,placeholder:a("Global.InputPlaceholder",{title:a("Product.Field.MinOrderQuantity")})})),r.createElement(c.Z.Item,{name:"maximum_sale_for_each_user",label:a("Product.Field.MaxSaleForEachUser")},r.createElement(p.Z,{min:1,placeholder:a("Global.InputPlaceholder",{title:a("Product.Field.MaxSaleForEachUser")})})),r.createElement(c.Z.Item,{label:a("Product.Field.ReleaseDate"),name:"release_date"},r.createElement(P.Z,{format:(0,u._A)(),placeholder:a("Product.Field.ReleaseDate")})),r.createElement(c.Z.Item,{name:"available_until",label:a("Product.Field.AvailableUntil")},r.createElement(P.Z,{format:(0,u._A)(),placeholder:a("Product.Field.AvailableUntil")})),r.createElement(c.Z.Item,{label:a("Product.Field.IntervalOrderQuantity"),name:"interval_order_quantity"},r.createElement(p.Z,{min:1,placeholder:a("Global.InputPlaceholder",{title:a("Product.Field.IntervalOrderQuantity")})}))))),r.createElement(m.Z,{gutter:[16,16],align:"middle",style:{padding:"16px 24px"}},r.createElement(s.Z,null,r.createElement(c.Z.Item,{name:"is_active",valuePropName:"checked"},r.createElement(h.Z,null,a("Global.IsActive")))),r.createElement(s.Z,null,r.createElement(c.Z.Item,{name:"price_visible",valuePropName:"checked"},r.createElement(h.Z,null,a("Product.Field.PriceVisible"))))),r.createElement("div",{style:{padding:"0 16px"}},r.createElement(o.jh,{isDescriptionRequired:!0})),r.createElement(o.Ow,{isPending:t,title:a(l?"Global.SaveChanges":"Global.Submit")}))},f=l(1739),x=function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(l[a[r]]=e[a[r]])}return l};var E=({onCallback:e,singleData:t})=>{const l=new f.Z,{mutate:d,isLoading:o}=(0,n.useMutation)((({id:e,values:t})=>e?l.apiService.updateOne(e,t):l.apiService.createOne(t))),{t:u}=(0,i.$)();return r.createElement(g,{initialValues:t,onSubmit:l=>{const{productCategories:r,file:i,file_id:n}=l,o=x(l,["productCategories","file","file_id"]);if(i||n)if(o.min_order_quantity&&o.max_order_quantity&&Number(o.min_order_quantity)>Number(o.max_order_quantity))a.Z.error({message:u("Product.Error"),description:u("Product.MinOrderQuantity")});else{const l=Object.assign(Object.assign({},o),{file:i,file_id:n,product_category_ids:null==r?void 0:r.map((e=>e.id))});d({id:t?t.id:void 0,values:l},{onSuccess:e})}else a.Z.error({message:u("Product.RequiredFile"),description:u("Product.RequiredFileDescription")})},isPending:o})}},95699:function(e){e.exports=JSON.parse('{"AW":"/sedsdsdttings/number-series/*"}')}}]);