"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[821],{99019:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(50189),r=a(27378),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"},i=a(92788),o=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:l}))};o.displayName="EyeFilled";var c=r.forwardRef(o)},52038:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(50189),r=a(27378),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M508 624a112 112 0 00112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 00-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 000 11.31L155.25 889a8 8 0 0011.31 0l712.16-712.12a8 8 0 000-11.32zM332 512a176 176 0 01258.88-155.28l-48.62 48.62a112.08 112.08 0 00-140.92 140.92l-48.62 48.62A175.09 175.09 0 01332 512z"}},{tag:"path",attrs:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 01445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z"}}]},name:"eye-invisible",theme:"filled"},i=a(92788),o=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:l}))};o.displayName="EyeInvisibleFilled";var c=r.forwardRef(o)},81769:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(50189),r=a(27378),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},i=a(92788),o=function(e,t){return r.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:l}))};o.displayName="SyncOutlined";var c=r.forwardRef(o)},37144:function(e,t,a){var n=a(25773),r=a(11026),l=a(27378),i=a(60042),o=a.n(i),c=a(24391),s=a(41604),d=a(78730),u=a(19511),m=a(56591),p=a(37610),v=a(59183),b=a(78670),h=a(73533),f=a(26204),E=a(93795),y=a(80821),g=a(91522),P=void 0,Z=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},_=l.forwardRef((function(e,t){var a=l.useContext(h.E_).getPrefixCls,i=(0,c.Z)(!1,{value:e.visible,defaultValue:e.defaultVisible}),s=(0,r.Z)(i,2),_=s[0],w=s[1],I=function(t,a){var n;w(t),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t,a)},k=function(e){I(!1,e)},x=function(t){var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(P,t)},N=function(t){var a;I(!1,t),null===(a=e.onCancel)||void 0===a||a.call(P,t)},S=e.prefixCls,C=e.placement,O=e.children,T=e.overlayClassName,F=Z(e,["prefixCls","placement","children","overlayClassName"]),A=a("popover",S),B=a("popconfirm",S),V=o()(B,T),j=l.createElement(v.Z,{componentName:"Popconfirm",defaultLocale:b.Z.Popconfirm},(function(t){return function(t,r){var i=e.okButtonProps,o=e.cancelButtonProps,c=e.title,s=e.cancelText,d=e.okText,u=e.okType,v=e.icon;return l.createElement("div",{className:"".concat(t,"-inner-content")},l.createElement("div",{className:"".concat(t,"-message")},v,l.createElement("div",{className:"".concat(t,"-message-title")},(0,f.Z)(c))),l.createElement("div",{className:"".concat(t,"-buttons")},l.createElement(m.Z,(0,n.Z)({onClick:N,size:"small"},o),s||r.cancelText),l.createElement(g.Z,{buttonProps:(0,n.Z)((0,n.Z)({size:"small"},(0,p.n)(u)),i),actionFn:x,close:k,prefixCls:a("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},d||r.okText)))}(A,t)})),L=a();return l.createElement(u.Z,(0,n.Z)({},F,{prefixCls:A,placement:C,onVisibleChange:function(t){e.disabled||I(t)},visible:_,overlay:j,overlayClassName:V,ref:t,transitionName:(0,y.m)(L,"zoom-big",e.transitionName)}),(0,E.Tm)(O,{onKeyDown:function(e){var t,a;l.isValidElement(O)&&(null===(a=null==O?void 0:(t=O.props).onKeyDown)||void 0===a||a.call(t,e)),function(e){e.keyCode===d.Z.ESC&&_&&I(!1,e)}(e)}}))}));_.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:l.createElement(s.Z,null),disabled:!1},t.Z=_},80893:function(e,t,a){var n=a(7914),r=a(11873);t.Z=void 0;var l=n(a(2398)),i=n(a(11873)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=l?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,a&&a.set(e,n);return n}(a(27378)),c=n(a(49811)),s=n(a(74574)),d=n(a(82821));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},p=function(e){var t=e.ellipsis,a=m(e,["ellipsis"]),n=o.useMemo((function(){return t&&"object"===(0,i.default)(t)?(0,c.default)(t,["expandable","rows"]):t}),[t]);return(0,s.default)("object"!==(0,i.default)(t)||!t||!("expandable"in t)&&!("rows"in t),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props."),o.createElement(d.default,(0,l.default)({},a,{ellipsis:n,component:"span"}))};t.Z=p},75116:function(e,t,a){a.d(t,{L:function(){return E}});var n=a(38056),r=(a(95171),a(34234)),l=(a(22467),a(21729)),i=a(66200),o=(a(80631),a(68600),a(31675)),c=a(80893),s=a(27378),d=a(31602);const u=e=>s.createElement("span",null,e?(0,o.Wb)(new Date(e.replace(/'-'/g,"/"))):"-"),m=(e,t)=>{var a,n,r,l,i;const c=null===(n=null===(a=t.user)||void 0===a?void 0:a.roles)||void 0===n?void 0:n.map((e=>e.slug))[0],u=(0,o.by)({role:c,profile:t.user});return s.createElement(d.rU,{to:u},null!==(i=null===(l=null===(r=t.user)||void 0===r?void 0:r.person)||void 0===l?void 0:l.full_name)&&void 0!==i?i:t.user_id)},p=(e,{positive:t})=>s.createElement(c.Z,{type:t?"success":"danger"},`${t?"+":"-"}${e.toFixed(2)}`," ",t?s.createElement(l.Z,null):s.createElement(i.Z,null)," "),v=(e,{total_positive:t,total_amount_symbol:a})=>s.createElement(c.Z,{type:t?"success":"danger"},a,e.toFixed(2)),b=e=>s.createElement("span",null,(null==e?void 0:e.name)||"-"),h=(e,t)=>{const{accountable_type:a,accountable_id:n}=t;return"OrderSale"===a?s.createElement(d.rU,{to:`/admin/orders/order-sale/${n}`},n):s.createElement("span",null,n)};var f=JSON.parse('{"AW":"/accounts/balancesdssd/*"}');class E{constructor(e){if(this.title=[n.ZP.t("AccountBalance.Title"),n.ZP.t("AccountBalance.Title",{count:2})],this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${f.AW.replace("*","")}`}],this.tableColumns=[{key:"user",dataIndex:"user",className:"hasTile",render:m,title:n.ZP.t("AccountBalance.User")},{className:"hasTile",key:"created_at",dataIndex:"created_at",render:u,title:n.ZP.t("AccountBalance.CreatedAt")},{className:"hasTile",key:"description",dataIndex:"description",title:n.ZP.t("Global.Description")},{className:"hasTile",key:"accountable_id",dataIndex:"accountable_id",render:h,title:n.ZP.t("AccountBalance.AccountableID")},{className:"hasTile",key:"accountable_type",dataIndex:"accountable_type",title:n.ZP.t("AccountBalance.AccountableType")},{key:"amount",dataIndex:"amount",render:p,className:"number hasTile",title:n.ZP.t("Global.Amount")},{key:"total_amount",dataIndex:"total_amount",render:v,className:"number hasTile",title:n.ZP.t("AccountBalance.TotalAmount")},{key:"payment_method",dataIndex:"paymentMethod",render:b,title:n.ZP.t("AccountBalance.PaymentMethod")}],e){const e=this.tableColumns.findIndex((e=>"user"===e.key));this.tableColumns.splice(e,1)}this.entity=e?`accounts?userId=${e}`:"accounts",this.apiService=new r.Vx(this.entity,this.title[0])}}},44527:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(38056),r=(a(95171),a(34234)),l=(a(15339),a(91183));class i{constructor(){this.entity="/career-steps",this.title=[n.ZP.t("CareerStep.Title_other"),n.ZP.t("CareerStep.Title_other",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0]),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin/${l.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:n.ZP.t("Global.ID")},{key:"slug",label:n.ZP.t("CareerStep.Slug")},{key:"min_point",label:n.ZP.t("CareerStep.MinPoint")},{key:"is_generation",label:n.ZP.t("CareerStep.Generation")},{key:"voucher_level",label:n.ZP.t("CareerStep.VoucherLevel")},{key:"id_account_minus_value",label:n.ZP.t("CareerStep.AccountMinusValue")},{key:"name",label:n.ZP.t("Global.Name")},{key:"discount_percentage",label:n.ZP.t("CareerStep.BonusValue")},{key:"frontline",label:n.ZP.t("CareerStep.FrontLine")}],this.tableColumns=[{key:"name",className:"hasTile",title:n.ZP.t("Global.Name"),dataIndex:"name"},{key:"slug",className:"hasTile",title:n.ZP.t("CareerStep.Slug"),dataIndex:"slug"},{key:"min_point",className:"hasTile",title:n.ZP.t("CareerStep.MinPoint"),dataIndex:"min_point"},{key:"is_generation",className:"hasTile",title:n.ZP.t("CareerStep.Generation"),dataIndex:"is_generation"},{key:"voucher_level",className:"hasTile",title:n.ZP.t("CareerStep.VoucherLevel"),dataIndex:"voucher_level"},{key:"discount_percentage",className:"hasTile",title:n.ZP.t("CareerStep.BonusValue"),dataIndex:"discount_percentage"},{key:"frontline",className:"hasTile",title:n.ZP.t("CareerStep.FrontLine"),dataIndex:"frontline"}]}}},97136:function(e,t,a){a.d(t,{Z:function(){return v}});var n=a(38056),r=a(34234),l=a(39338),i=a(27378),o=a(62500),c=(a(15339),a(59748)),s=a(44527),d=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){e.done?a(e.value):r(e.value).then(i,o)}c((n=n.apply(e,t||[])).next())}))};const u=(0,l.cn)([]),m=new s.Z,p=(0,c.el)((e=>({queryKey:["careerstep",e(u)],queryFn:()=>d(void 0,void 0,void 0,(function*(){return(yield m.apiService.getAll({pagination:{per_page:30},params:{isActive:!0}})).data}))})));var v=function({value:e,onChange:t,maxHeight:a,isMulti:c=!1,placeholder:s=n.ZP.t("Global.SelectPlaceholder",{title:n.ZP.t("CareerStep.Title_other")}),disabled:d=!1,menuPlacement:u="bottom"}){const[m]=(0,l.KO)(p);return i.createElement(o.ZP,{isClearable:!0,isMulti:c,options:m,isDisabled:d,onChange:e=>null==t?void 0:t(e),placeholder:s,maxMenuHeight:a,menuPlacement:u,menuPortalTarget:document.body,getOptionLabel:e=>null==e?void 0:e.name,getOptionValue:e=>String(null==e?void 0:e.id),theme:e=>(0,r.$p)(e),styles:{menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999})},classNamePrefix:"react-select",value:e})}},15339:function(e,t,a){a(95171)},71461:function(e,t,a){var n=a(33996),r=(a(33699),a(27378)),l=a(81798);a(9378);t.Z=e=>{const t=new l.Z;return r.createElement(n.LE,Object.assign({searchParam:"search",module:t,optionSelector:{label:"name",value:"id"}},e))}},17177:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(33996),r=a(27378),l=a(34435),i=a(19203);var o={MainContainer:a(26761).ZP.h3`
  padding: 20px;
`},c=a(60071);var s=({isLoading:e,invoiceContactGroupId:t,userId:a})=>{if(!a)return r.createElement(i.Z,null);const[s,d]=(0,r.useState)(""),{t:u}=(0,c.$)();return(0,r.useEffect)((()=>{t&&(0,l.k)({userId:+a,invoiceContactGroupId:t}).then((e=>{d(e)}))}),[t]),e?r.createElement(n.aN,null):r.createElement(r.Fragment,null,s&&r.createElement(o.MainContainer,null,r.createElement("strong",null,"  ",u("DocumentSettings.InvoiceAddress"),"  "),r.createElement("div",{dangerouslySetInnerHTML:{__html:s}})))}},16170:function(e,t,a){a.d(t,{Z:function(){return p}});a(95171);var n=a(27378),r=a(56552),l=a(33996),i=a(3288),o=a(97851),c=a(60071),s=a(8647);var d=({isPending:e,onSubmit:t,initialValues:a})=>{const[r]=i.Z.useForm(),{t:d}=(0,c.$)();return(0,n.useEffect)((()=>{a&&r.setFieldsValue(a)}),[a]),n.createElement(s.Z.Container,{form:r,layout:"horizontal",onFinish:t,name:"bank-details-form",labelAlign:"left",labelCol:{xs:{span:24},md:{span:12},lg:{span:10}},wrapperCol:{xs:{span:24},md:{span:10},lg:{span:12}}},n.createElement("h2",null,d("User.BankDetails.BankData")),n.createElement("br",null),n.createElement(i.Z.Item,{label:d("User.BankDetails.BankName"),name:"bank_name"},n.createElement(o.Z,{placeholder:d("Global.InputPlaceholder",{title:d("User.BankDetails.BankName")})})),n.createElement(i.Z.Item,{label:d("User.BankDetails.IBANNumber"),name:"iban"},n.createElement(o.Z,{placeholder:d("Global.InputPlaceholder",{title:d("User.BankDetails.IBANNumber")})})),n.createElement(i.Z.Item,{label:d("User.BankDetails.BIC"),name:"bic"},n.createElement(o.Z,{placeholder:d("Global.InputPlaceholder",{title:d("User.BankDetails.BIC")})})),n.createElement(l.Ow,{isPending:e}))},u=a(19203),m=a(68312);var p=({singleData:e,userId:t})=>{if(!t)return n.createElement(u.Z,null);const a=new m.WK,{mutate:l,isLoading:i}=(0,r.useMutation)((({id:e,values:t})=>e?a.apiService.updateOne(e,t):a.apiService.createOne(t)));return n.createElement(d,{isPending:i,onSubmit:a=>{const n=Object.assign(Object.assign({},a),{user_id:+t});l({id:null==e?void 0:e.id,values:n})},initialValues:e})}},55210:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(48382),r=(a(9378),a(95171),a(27378)),l=a(56552),i=a(19203),o=a(38056),c=a(6110),s=a(14206),d=a.n(s),u=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){e.done?a(e.value):r(e.value).then(i,o)}c((n=n.apply(e,t||[])).next())}))};function m(e){return u(this,void 0,void 0,(function*(){try{const t=yield d().post("companies/partner",e);return c.ZP.success(o.ZP.t("Company.SuccessfullyCreated")),t.data.data}catch(e){throw new Error(e)}}))}function p(e,t){return u(this,void 0,void 0,(function*(){try{const a=yield d().put(`companies/${t}/partner`,e);return c.ZP.success(o.ZP.t("Company.SuccessfullyUpdated")),a.data.data}catch(e){throw new Error(e)}}))}var v=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var b=({partnerId:e,singleData:t,onCallback:a,isCreateByPartner:o})=>{const{mutate:c,isLoading:s}=(0,l.useMutation)((({id:e,values:t})=>e?p(t,e):m(t)));if(!e)return r.createElement(i.Z,null);return r.createElement(n.Z,{isCreateByPartner:o,isPending:s,initialValues:t,onSubmit:n=>{const{countries:r,currencies:l,contactGroup:i}=n,o=v(n,["countries","currencies","contactGroup"]),s=Object.assign(Object.assign({},o),{partner_id:e,contact_group_id:null==i?void 0:i.id,country_ids:null==r?void 0:r.map((e=>e.id)),currency_ids:null==l?void 0:l.map((e=>e.id))});c({id:null==t?void 0:t.id,values:s},{onSuccess:a})}})}},37401:function(e,t,a){a.d(t,{Z:function(){return P}});a(95171);var n=a(27378),r=a(56552),l=a(99019),i=a(52038),o=a(33996),c=a(3288),s=a(56591),d=a(35062),u=a(10374),m=a(97851),p=a(60071),v=a(8647);var b=({isPending:e,onSubmit:t,resetPending:a,onResetPass:r,haveReset:b})=>{const[h]=c.Z.useForm(),{t:f}=(0,p.$)(),E=b?n.createElement(s.Z,{onClick:r,loading:a,disabled:e},f("User.PasswordSetting.SendPasswordResetLink")):void 0;return n.createElement(v.Z.Container,{form:h,colspace:8,layout:"vertical",onFinish:t,name:"password-form"},n.createElement("h2",null,f("User.PasswordSetting.Title")),n.createElement("br",null),n.createElement(d.Z,{justify:"space-between"},n.createElement(u.Z,{xs:24,md:12,className:"leftCol"},n.createElement(c.Z.Item,{label:f("User.PasswordSetting.NewPassword"),name:"password",rules:[{required:!0,message:"Password is required"},{min:8,message:"Password should at least have 8 Characters"}]},n.createElement(m.Z.Password,{placeholder:f("Global.InputPlaceholder",{title:f`Global.Password`}),iconRender:e=>e?n.createElement(l.Z,null):n.createElement(i.Z,null)}))),n.createElement(u.Z,{xs:24,md:12,className:"rightCol"},n.createElement(c.Z.Item,{label:f("User.PasswordSetting.ConfirmNewPassword"),name:"password_confirmation",rules:[{required:!0,message:"Password conformation is required"},{min:8,message:"Password should at least have 8 Characters"}]},n.createElement(m.Z.Password,{placeholder:f("Global.InputPlaceholder",{title:f`Global.Password`}),iconRender:e=>e?n.createElement(l.Z,null):n.createElement(i.Z,null)})))),n.createElement(o.Ow,{isPending:e,title:f("Global.Save"),Secondary:E,disabledPrimary:a}))},h=a(34234),f=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){e.done?a(e.value):r(e.value).then(i,o)}c((n=n.apply(e,t||[])).next())}))};const E=new h.Vx("/users/--/change-password"),y=({id:e,values:t})=>f(void 0,void 0,void 0,(function*(){try{return E.request({url:`/users/${e}/change-password`,method:"PUT",body:t})}catch(e){throw new Error(e)}})),g=({values:e})=>f(void 0,void 0,void 0,(function*(){try{return E.request({url:"reset-password",method:"POST",body:e})}catch(e){throw new Error(e)}}));var P=({id:e,onCallback:t,userEmail:a,resetPassCallback:l})=>{const{mutate:i,isLoading:o}=(0,r.useMutation)(y),{mutate:c,isLoading:s}=(0,r.useMutation)(g);return n.createElement(b,{isPending:o,onSubmit:a=>{const n=Object.assign({},a);i({id:e,values:n},{onSuccess:t})},resetPending:s,onResetPass:()=>{if(!a)return;c({values:{email:a}},{onSuccess:l})},haveReset:!!a})}},22467:function(e,t,a){a(68600),a(5735)},50072:function(e,t,a){a.r(t),a.d(t,{default:function(){return we}});var n=a(27378),r=a(96740),l=a(33996),i=(a(5735),a(68312));function o(){const e="admin",t=new i.ZP(e);return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Breadcrumb,null),n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasNew:!0,newLink:`../manage/${e}`,hasSearch:!0}),n.createElement(l.s_.ListView,{updateLink:`../manage/${e}`,tableScroll:{x:1600,y:750},module:t,params:{role:e}})))}function c(){const e="employee",t=new i.ZP(e);return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Breadcrumb,null),n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasNew:!0,newLink:`../manage/${e}`,hasSearch:!0}),n.createElement(l.s_.ListView,{updateLink:`../manage/${e}`,tableScroll:{x:1600,y:750},module:t,params:{role:e}})))}function s(){const e="partner",t=new i.ZP(e);return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Breadcrumb,null),n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasNew:!0,newLink:`../manage/${e}`,hasSearch:!0}),n.createElement(l.s_.ListView,{params:{role:e},module:t,updateLink:`../manage/${e}`,tableScroll:{x:1600,y:750}})))}var d=a(34234);function u(){const e="user",t=new i.ZP(e);return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Breadcrumb,null),n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasNew:!0,newLink:"../manage/user",hasSearch:!0}),n.createElement(l.s_.ListView,{updateLink:"../manage/user",tableScroll:{x:1600,y:750},module:t,customEntities:{getAll:new d.Vx("customers",t.title[0])}})))}var m=a(61985),p=a(38056),v=a(24327);a(54045);function b({userId:e}){const t=new v.uw(e);return n.createElement(n.Fragment,null,n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasSearch:!0,dontNavigate:!0,noListView:!0,noDescription:!0,module:t}),n.createElement(l.s_.ListView,{noId:!0,dontNavigate:!0,module:t,tableScroll:{x:1450,y:750},params:{orderBy:{id:"DESC"}}}))))}a(9378);var h=a(87435),f=(a(11639),a(12606)),E=a(14206),y=a.n(E),g=a(60071),P=a(21329),Z=(a(2010),a(56552));a(95171),a(86317),a(68600);var _=a(3288),w=a(35062),I=a(10374),k=a(97851),x=a(48158),N=a(26761);a(21267);var S=({onSubmit:e,initialValues:t,isPending:a,partnerData:r})=>{const{t:i}=(0,g.$)(),[o]=_.Z.useForm(),[c,s]=(0,n.useState)([]),{loggedInUserRole:d}=(0,n.useContext)(m.Vo);(0,n.useEffect)((()=>{var e,a;r&&o.setFieldsValue({partner:r}),t&&((null!==(a=null===(e=t.translate)||void 0===e?void 0:e.length)&&void 0!==a?a:0)<=0?o.setFieldsValue(Object.assign(Object.assign({},t),{translate:[{locale:void 0,title:"",description:""}]})):o.setFieldsValue(t),s(null==t?void 0:t.paymentMethods))}),[t]);return n.createElement(_.Z,{form:o,layout:"vertical",name:"subdomain-form",onFinish:e,initialValues:{is_active:!1,is_approved:!1,translate:[{locale:void 0,title:"",description:""}]}},n.createElement(n.Suspense,{fallback:n.createElement(l.aN,null)},n.createElement(w.Z,{gutter:8},n.createElement(I.Z,{span:24},n.createElement(w.Z,{justify:"space-between",gutter:16},n.createElement(I.Z,{span:12},n.createElement(_.Z.Item,{label:i("Global.Name"),name:"name",rules:[{required:!0}]},n.createElement(k.Z,{placeholder:i("Global.InputPlaceholder",{title:i("Global.Name")})})))),n.createElement(w.Z,null,n.createElement(I.Z,{span:3},n.createElement(_.Z.Item,{label:" ",name:"is_active",valuePropName:"checked"},n.createElement(x.Z,{disabled:"partner"===d},i("Global.IsActive")))),n.createElement(I.Z,{span:3},n.createElement(_.Z.Item,{label:" ",name:"is_approved",valuePropName:"checked"},n.createElement(x.Z,{disabled:"partner"===d},i("Global.IsApproved"))))))),n.createElement(l.Ow,{isPending:a})))};N.ZP.div`
  gap: 8px;
  display: flex;

  &:not(:last-child) {
    margin-bottom: 16px;
  }

  & span[role='img'].icon {
    font-size: 16px;
    color: rgb(24, 144, 255);
  }
`;var C=a(9280),O=a(87069);class T{constructor(){this.title=[p.ZP.t("Subdomain.Title"),p.ZP.t("Subdomain.Title",{count:2})],this.entity="/subdomains",this.apiService=new C.V(this.entity,this.title[0]),this.detailColumns=[{key:"id",label:"ID"},{key:"name",label:p.ZP.t("Global.Name")}],this.tableColumns=[{width:180,key:"name",dataIndex:"name",className:"hasTile",title:p.ZP.t("Global.Name")},{width:180,key:"title",dataIndex:"title",title:p.ZP.t("Global.Title")},{width:180,key:"partner",dataIndex:"partner",className:"hasTile",title:p.ZP.t("Subdomain.Table.Partner"),render:e=>(0,O.m)(e)}]}}var F=a(91805),A=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var B=({setModalVisible:e,subdomainId:t,setCanCreateNew:a})=>{const l=new T,[i,o]=(0,n.useState)({}),{user_id:c}=(0,r.UO)();(0,n.useEffect)((()=>(t&&y().get(`/subdomains/${t}`).then((e=>{var t;o(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.data)})).catch((e=>{f.Z.error(e.message)})),()=>{o({})})),[]);const s=function({queryKey:e}){return(0,Z.useQueryClient)().getQueryData(e)}({queryKey:`user-${c}`}),{mutate:d,isLoading:u}=(0,Z.useMutation)((({id:e,values:t})=>e?l.apiService.updateOne(e,t):l.apiService.createOne(t))),m=n=>{var r;const{partner:l,paymentMethods:o}=n,c=A(n,["partner","paymentMethods"]),s=Object.assign(Object.assign({},c),{partner_id:null==l?void 0:l.id,payment_method_ids:null!==(r=null==o?void 0:o.map((e=>e.id)))&&void 0!==r?r:null});d({id:i?i.id:void 0,values:s},{onSuccess:()=>{e(!1),t||a(!1)}})};return(0,n.useMemo)((()=>!!i&&Object.keys(i).length>0),[i])?n.createElement(F.Z,{formProps:{isPending:u,onSubmit:m,initialValues:i},subdomainId:i.id,partnerId:i.partner_id}):n.createElement(S,{isPending:u,onSubmit:m,partnerData:null==s?void 0:s.partner})};var V=({subdomainId:e,setModalVisible:t,isModalVisible:a,setCanCreateNew:r})=>{const{t:i}=(0,g.$)();return n.createElement(P.Z,{width:1200,visible:a,footer:null,destroyOnClose:!0},n.createElement("div",{className:"header"},n.createElement(l.xB,{title:i("Subdomain.PartnerSubdomain"),onClose:()=>t(!1)})),n.createElement(B,{setCanCreateNew:r,setModalVisible:t,subdomainId:e}))};function j({partner:e}){const t=new T,[a,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(void 0),[c,s]=(0,n.useState)(!0),{loggedInUserRole:d}=(0,n.useContext)(m.Vo);(0,n.useEffect)((()=>{y().get(`/subdomains?partnerId=${null==e?void 0:e.id}`).then((e=>{var t;(null===(t=e.data)||void 0===t?void 0:t.data).length>=1&&s(!1)})).catch((e=>{f.Z.error(e.message)}))}));const{t:u}=(0,g.$)();return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasSearch:!0,dontNavigate:!0,noDescription:!0,hasDelete:"partner"!==d,hasNew:c?"partner"===d:"partner"!==d,onNew:()=>{o(void 0),r(!0)}}),n.createElement(l.s_.ListView,{dontNavigate:!0,updateLink:"",module:t,params:{partnerId:null==e?void 0:e.id},hasUpdate:!1,onUpdate:e=>{r(!0),o(e)},togglers:"partner"!==d?[{url:"active",title:u("Global.IsActive"),dataIndex:"is_active"},{url:"approved",title:u("Global.IsApproved"),dataIndex:"is_approved"}]:[]})),a&&n.createElement(V,{setModalVisible:r,isModalVisible:a,subdomainId:i,setCanCreateNew:s}))}var L=a(39254),U=a(50836),D=a(39338),G=a(68891),M=a(55210);const $=(0,D.cn)(void 0),X=(0,D.cn)(void 0);(0,D.cn)("");var q=a(56591),R=a(6110),H=a(17177),W=a(19203),z=(a(6673),a(34435));var K=({queryResult:e})=>{var t;const{user_id:a}=(0,r.UO)();if(!a)return n.createElement(W.Z,null);const{t:o}=(0,g.$)(),c=new i.fk(+a);return n.createElement(l.Xg,{module:c},n.createElement(l.Xg.Panel,{defaultListView:"tiles"},n.createElement(l.s_.Header,{hasNew:!0,newLink:"",ExtraAction:t=>n.createElement(q.Z,{type:"primary",onClick:()=>{(0,z.b)({userId:+a,contact_group_id:+t[0]}).then((()=>{e.refetch(),R.ZP.success(o("Global.UpdatedSuccessfully",{title:o("User.Address.Title")}))}))},disabled:1!==t.length},o`User.Address.SetAsAnInvoiceAddress`),extraComponent:(0,H.Z)({isLoading:e.isLoading,userId:+a,invoiceContactGroupId:null===(t=e.data)||void 0===t?void 0:t.invoice_contact_group_id})}),n.createElement(l.s_.ListView,{dontNavigate:!0,module:c,updateLink:"",greenSelectCondition:t=>{var a;return(null===(a=e.data)||void 0===a?void 0:a.invoice_contact_group_id)===t}})))},Q=a(16170),J=a(55350);var Y=()=>{const{user_id:e}=(0,r.UO)();if(!e)return n.createElement(W.Z,null);const[t,a]=(0,n.useState)({}),[i,o]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{(0,J.X)({userId:+e}).then((e=>{o(!1),"number"!=typeof e&&a(e)})).catch((()=>{o(!1)}))}),[]),n.createElement(n.Fragment,null,i?n.createElement(l.aN,null):n.createElement(Q.Z,{singleData:t,userId:e}))};a(79883);var ee=()=>{const{user_id:e}=(0,r.UO)();if(!e)return n.createElement(W.Z,null);const t=new i._r(+e);return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasSearch:!0,dontNavigate:!0}),n.createElement(l.s_.ListView,{module:t,noId:!0,dontNavigate:!0,params:{orderBy:{created_at:"DESC"}},customEntities:{getOne:"/order-documents/$1"}})))},te=a(37401);var ae=({queryResult:e})=>{var t,a;const{user_id:i}=(0,r.UO)();if(!i)return n.createElement(W.Z,null);const{t:o}=(0,g.$)();return n.createElement(n.Fragment,null,e.isLoading?n.createElement(l.aN,null):n.createElement(te.Z,{id:+i,onCallback:()=>{R.ZP.success(o("Global.UpdatedSuccessfully",{title:o("Auth.Password")}))},userEmail:null!==(a=null===(t=e.data)||void 0===t?void 0:t.email)&&void 0!==a?a:"",resetPassCallback:()=>{R.ZP.success("An email with a password recovery has been sent to you.")}}))},ne=a(83594);var re=({onCallback:e,queryResult:t})=>{const{user_id:a}=(0,r.UO)();return n.createElement(n.Fragment,null,t.isLoading?n.createElement(l.aN,null):n.createElement(ne.default,{editMode:!!a,singleData:t.data,onCallback:t=>{a||null==e||e(t)},refetch:t.refetch}))},le=a(75116);a(22467);function ie(){const{user_id:e}=(0,r.UO)();if(!e)return n.createElement(W.Z,null);const t=new le.L(null!=e?e:void 0);return n.createElement(l.Xg,{module:t},n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasSearch:!0,hasNew:!1,noDescription:!0,dontNavigate:!0}),n.createElement(l.s_.ListView,{dontNavigate:!0,hasUpdate:!1,module:t,params:{orderBy:{id:"DESC"}}})))}var oe=a(75095),ce=a(53988),se=a(3487),de=(a(94),a(97136)),ue=a(81798),me=a(71461),pe=a(9172),ve=a(25724),be=a(8647);const he=N.ZP.div`
  border: 1px solid #d9d9d9;
  padding: 20px;

  background-color: #fafafa;

  border-radius: ${e=>e.radius}px;
`;var fe={MainContainer:he,FieldSet:N.ZP.fieldset`
  border: 1px solid #d9d9d9;
  border-radius: 20px;
  column-gap: 1rem;
  padding: 20px 25px 35px;
  margin-bottom: 40px;
  margin-top: 10px;

  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;

  .ant-form-item {
    width: 20vw;
  }

  legend {
    color: #235b81;
    width: auto;
    padding: 0 10px;
    font-weight: bold;
    margin-bottom: 0;
    margin-left: 15px;
    border-bottom: 0;
  }

  .checkbox-legend {
    .ant-checkbox-wrapper {
      color: #235b81;
    }

    margin-bottom: 0;
  }

  .space {
    display: flex;
    gap: 8px;

    &:not(:last-child) {
      margin-bottom: 16px;
    }

    .ant-select {
      width: 150px;
    }

    .ant-input-group {
      display: flex;
      flex: 1;

      &.gap {
        gap: 8px;

        & input {
          border-radius: 4px;
        }
      }
    }
  }
`};function Ee({onSubmit:e,isPending:t,initialValues:r}){const{t:i}=(0,g.$)(),[o]=_.Z.useForm(),c=(0,n.useMemo)((()=>{const e=new ue.Z;return e.UpsertComponent=(0,n.lazy)((()=>Promise.resolve().then(a.bind(a,55210)))),e}),[]),{profile:s}=(0,n.useContext)(m.Vo),d=(0,n.useMemo)((()=>null==r?void 0:r.id),[r]),u=s.roles.map((e=>e.slug)).includes("partner");return(0,n.useEffect)((()=>{r&&o.setFieldsValue(r.coach?Object.assign(Object.assign({},r),{coach:Object.assign(Object.assign({},r.coach),{user:{person:r.coach.person}})}):r)}),[r]),n.createElement(be.Z.Container,{form:o,colspace:8,colon:!1,labelAlign:"left",onFinish:e,name:"partner-form",labelCol:{xs:{span:8}},wrapperCol:{xs:{span:16}},layout:"horizontal",initialValues:{can_buy:!1,has_btoc:!1,has_btob:!1,is_active:!1,is_approved:!1,has_network:!1,public_findable:!1,has_delivery:!1,inhouse_sale:!1,has_warehouse:!1,hasInfoService:!1,active_auto_bonus:!1,can_see_down_line:!1,receive_commission:!1,send_vat_responsible:!1,post_delivery_factor:!1,active_training_bonus:!1,over_personal_turnover:!1,receive_vat_responsible:!1,is_full_legals_responsible:!1,is_promotional_article_active:!1,receive_incentive_bonus:!1,translate:[{locale:void 0,name:""}]}},n.createElement(w.Z,{justify:"space-between"},n.createElement(I.Z,{xs:24,md:12,className:"leftCol"},!u&&n.createElement(n.Fragment,null,n.createElement(_.Z.Item,{name:"transportation_ratio_percentage",label:i("Partner.Field.TransportationRatioPercentage")},n.createElement(pe.Z,{placeholder:i("Global.SelectPlaceholder",{title:i("Partner.Field.TransportationRatioPercentage")}),options:[{label:"0",value:0},{label:"25",value:25},{label:"50",value:50},{label:"75",value:75},{label:"100",value:100}]})),n.createElement(_.Z.Item,{label:i("Partner.Field.MaxClientRoot"),name:"max_client_root"},n.createElement(k.Z,{placeholder:i("Global.InputPlaceholder",{title:i("Partner.Field.MaxClientRoot")})})),n.createElement(_.Z.Item,{name:"warranty_days",label:i("Partner.Field.WarrantyDays")},n.createElement(ve.Z,{placeholder:i("Global.InputPlaceholder",{title:i("Partner.Field.WarrantyDays")})}))),n.createElement(_.Z.Item,{label:i("Partner.Field.BankName"),name:"bank_name"},n.createElement(k.Z,{placeholder:i("Global.InputPlaceholder",{title:i("Partner.Field.BankName")})})),n.createElement(_.Z.Item,{name:"iban",label:i("Partner.Field.Iban")},n.createElement(k.Z,{placeholder:i("Global.InputPlaceholder",{title:i("Partner.Field.Iban")})})),n.createElement(_.Z.Item,{name:"swift",label:i("Partner.Field.Swift")},n.createElement(k.Z,{placeholder:i("Global.InputPlaceholder",{title:i("Partner.Field.Swift")})}))),n.createElement(I.Z,{xs:24,md:12,className:"rightCol"},n.createElement(_.Z.Item,{name:"company",label:i("User.Partner.Company")},n.createElement(me.Z,{module:c,upsertProps:{partnerId:d},hasNew:!(null==r?void 0:r.company_id),query:{partnerId:d,isActive:!0}})),n.createElement(_.Z.Item,{name:["user","careerStep"],label:i("User.Field.CareerStep"),rules:[{required:!0}]},n.createElement(de.Z,{disabled:u})),n.createElement(_.Z.Item,{name:["frontIdentityCard","root_file","path"],label:i("Partner.Field.FrontIdentityCardId")},n.createElement(l.gq,{form:o,idName:"front_identity_card_id",requestHeaders:{"X-ENDPOINT":"partner"}})),n.createElement(_.Z.Item,{hidden:!0,name:"front_identity_card_id"},n.createElement(n.Fragment,null)),n.createElement(_.Z.Item,{name:["backIdentityCard","root_file","path"],label:i("Partner.Field.BackIdentityCardId")},n.createElement(l.gq,{form:o,idName:"back_identity_card_id",requestHeaders:{"X-ENDPOINT":"partner"}})),n.createElement(_.Z.Item,{hidden:!0,name:"back_identity_card_id"},n.createElement(n.Fragment,null)),n.createElement(_.Z.Item,{name:["businessCertification","root_file","path"],label:i("Partner.Field.BusinessCertificationId")},n.createElement(l.gq,{form:o,idName:"business_certification_id",requestHeaders:{"X-ENDPOINT":"partner"}})),n.createElement(_.Z.Item,{hidden:!0,name:"business_certification_id"},n.createElement(n.Fragment,null)))),n.createElement(w.Z,{gutter:32,wrap:!0,justify:"space-between"},n.createElement(fe.FieldSet,{className:"partner-checkbox-container"},n.createElement("legend",null,"More Options"),n.createElement(_.Z.Item,{name:"is_active",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,{disabled:u},i("Global.IsActive"))),n.createElement(_.Z.Item,{name:"is_approved",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,{disabled:u},i("Global.IsApproved"))),n.createElement(_.Z.Item,{name:"public_findable",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.PublicFindable"))),n.createElement(_.Z.Item,{name:"is_promotional_article_active",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.IsPromotionalArticleActive"))),n.createElement(_.Z.Item,{name:"has_info_service",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.HasInfoService"))),!u&&n.createElement(n.Fragment,null,n.createElement(_.Z.Item,{name:"active_auto_bonus",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.ActiveAutoBonus"))),n.createElement(_.Z.Item,{name:"active_training_bonus",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.ActiveTrainingBonus"))),n.createElement(_.Z.Item,{name:"receive_commission",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.ReceiveCommission"))),n.createElement(_.Z.Item,{name:"can_buy",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.CanBuy"))),n.createElement(_.Z.Item,{name:"receive_vat_responsible",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.ReceiveVat"))),n.createElement(_.Z.Item,{name:"send_vat_responsible",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.SendVatResponsible"))),n.createElement(_.Z.Item,{name:"over_personal_turnover",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.OverPersonalTurnover"))),n.createElement(_.Z.Item,{name:"can_see_down_line",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.CanSeeDowLine"))),n.createElement(_.Z.Item,{name:"inhouse_sale",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.InHouseSale"))),n.createElement(_.Z.Item,{name:"has_network",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Global.HasNetwork"))),n.createElement(_.Z.Item,{name:"has_btob",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Global.HasBtob"))),n.createElement(_.Z.Item,{name:"has_btoc",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.HasBtoc"))),n.createElement(_.Z.Item,{name:"post_delivery_factor",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.PostDeliveryFactor"))),n.createElement(_.Z.Item,{name:"has_warehouse",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.HasWarehouse"))),n.createElement(_.Z.Item,{name:"has_delivery",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.HasDelivery"))),n.createElement(_.Z.Item,{name:"receive_incentive_bonus",valuePropName:"checked",className:"checkbox"},n.createElement(x.Z,null,i("Partner.Field.ReceiveIncentiveBonus")))))),n.createElement(l.Ow,{isPending:t}))}var ye=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var ge=({userId:e,sponsorId:t,onCallback:a,singleData:l})=>{const i=(0,r.s0)(),o=new oe.Z,{mutate:c,isLoading:s}=(0,Z.useMutation)((({id:e,values:t})=>e?o.apiService.updateOne(e,t):o.apiService.createOne(t)));return n.createElement(Ee,{initialValues:l,onSubmit:a=>{var n,r;const{coach:o,user:s,translate:u,company:m}=a,p=ye(a,["coach","user","translate","company"]),v=Object.assign(Object.assign({},p),{user:s,user_id:e,coach_id:null==o?void 0:o.id,parent_id:t,career_step_id:null===(n=null==s?void 0:s.careerStep)||void 0===n?void 0:n.id,company_id:null!==(r=null==m?void 0:m.id)&&void 0!==r?r:null,translate:(0,d.mj)(u),post_delivery_factor:p.post_delivery_factor||!1});c({id:l?l.id:void 0,values:v},{onSuccess:()=>{i(-1)}})},isPending:s})};var Pe=({userId:e,partnerId:t,sponsorId:a})=>{const[r,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)({}),s=new oe.Z,d=s.title[0],u=[...s.breadcrumbItems,{path:"",breadcrumbName:t?`Update ${d} - ${t}`:`New ${d}`}];return(0,n.useEffect)((()=>{t&&(i(!0),s.apiService.getOne(+t).then((e=>{c(e)})).finally((()=>{i(!1)})))}),[]),n.createElement(se.j,null,n.createElement("div",{className:"header"},n.createElement(ce.Z,{hideBackBtn:!0,items:u})),r?n.createElement(l.aN,null):n.createElement(ge,{userId:e,sponsorId:a,singleData:o}))};function Ze(){var e,t,a,o,c,s,d,u,v,E,P,_,w,I,k;const x=(0,r.s0)(),{t:N}=(0,g.$)(),S=new i.ZP,{user_id:C,role:O}=(0,r.UO)(),{profile:{roles:T}}=(0,n.useContext)(m.Vo),F=!!T.find((e=>"partner"===e.slug)),{search:A}=(0,r.TH)(),B=G.parse(A),V=!C,[q,R]=(0,n.useState)("1"),[H,W]=(0,D.KO)(X),[z,Q]=(0,D.KO)($),[J,te]=(0,n.useState)(void 0);(0,n.useEffect)((()=>()=>{Q(void 0),W(void 0),te(void 0)}),[]);const ne=(0,Z.useQuery)(`user-${C}`,(()=>C?S.apiService.getOne(+C):void 0),{onSuccess:e=>{var t;if(!C)return;const a=null===(t=null==e?void 0:e.roles)||void 0===t?void 0:t.map((e=>e.slug)),n=a.includes("admin"),r=a.includes("user")&&!n;Q(r);const l=a.includes("partner");W(l)}}),le=[...S.breadcrumbItems,{path:"",breadcrumbName:C?ne.isSuccess?`${z||"user"===O?p.ZP.t("User.Customer"):S.title[0]} - ${C} `:`${S.title[0]} - ${C}`:`New ${"user"===O?p.ZP.t("User.Customer"):"partner"===O?p.ZP.t("User.Partner.Title"):"admin"===O?p.ZP.t("User.Field.Admin"):"employee"===O?p.ZP.t("User.Employee"):S.title[0]}`}];(0,n.useEffect)((()=>{B.active&&R(B.active)}),[B.active]);return(0,n.useEffect)((()=>{var e,t,a,n;(null===(t=null===(e=null==ne?void 0:ne.data)||void 0===e?void 0:e.partner)||void 0===t?void 0:t.company_id)?y().get(`/companies/${null===(n=null===(a=null==ne?void 0:ne.data)||void 0===a?void 0:a.partner)||void 0===n?void 0:n.company_id}`).then((e=>{var t;te(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.data)})).catch((e=>{f.Z.error(e.message)})):te(void 0)}),[null===(t=null===(e=null==ne?void 0:ne.data)||void 0===e?void 0:e.partner)||void 0===t?void 0:t.company_id,q]),n.createElement(l.Xg,{module:S},n.createElement(l.Xg.Breadcrumb,{routes:le}),n.createElement(_e,null,n.createElement(U.Z,{type:"card",defaultActiveKey:"1",className:"user-tabs",activeKey:q,destroyInactiveTabPane:!0,onChange:e=>R(e)},n.createElement(U.Z.TabPane,{key:"1",tab:N("User.PersonalInfo.TabTitle")},n.createElement(re,{onCallback:e=>{"partner"===B.mode?x(`/admin/users/manage/partner/${e.id}?active=7`):x(-1)},queryResult:ne})),!F&&n.createElement(U.Z.TabPane,{key:"2",tab:N("User.PasswordSetting.TabTitle"),disabled:V},n.createElement(ae,{queryResult:ne})),n.createElement(U.Z.TabPane,{key:"3",tab:N("User.Address.TabTitle"),disabled:V},n.createElement(K,{queryResult:ne})),n.createElement(U.Z.TabPane,{key:"4",tab:N("User.BankDetails.TabTitle"),disabled:V},n.createElement(Y,null)),n.createElement(U.Z.TabPane,{key:"5",tab:N("User.Documents.TabTitle"),disabled:V},n.createElement(ee,null)),n.createElement(U.Z.TabPane,{key:"6",tab:N("User.AccountBalance.TabTitle"),disabled:V},n.createElement(ie,null)),(V&&"partner"===O||H)&&n.createElement(U.Z.TabPane,{key:"7",tab:N("User.Partner.TabTitle"),disabled:V},n.createElement(Pe,{userId:Number(C),sponsorId:null===(a=ne.data)||void 0===a?void 0:a.sponsor_id,partnerId:null===(o=ne.data)||void 0===o?void 0:o.partner.id})),(V&&"partner"===O||H)&&n.createElement(U.Z.TabPane,{key:"8",tab:N("User.Team&Work.TabTitle")},n.createElement(h.Z,{partner:null===(s=null===(c=ne.data)||void 0===c?void 0:c.partner)||void 0===s?void 0:s.id})),(V&&"partner"===O||H)&&n.createElement(U.Z.TabPane,{key:"9",tab:N("User.MLMStructure.TabTitle")},n.createElement(h.Z,{partner:null===(u=null===(d=ne.data)||void 0===d?void 0:d.partner)||void 0===u?void 0:u.id})),"partner"===O&&n.createElement(U.Z.TabPane,{key:"10",tab:N("Dashboards.Partner.Subdomains")},n.createElement(j,{partner:null===(v=ne.data)||void 0===v?void 0:v.partner})),"partner"===O&&n.createElement(U.Z.TabPane,{key:"11",tab:N("User.Partner.Company")},ne.isLoading?n.createElement(l.aN,null):n.createElement(M.default,{isCreateByPartner:!1,singleData:J,partnerId:null===(P=null===(E=null==ne?void 0:ne.data)||void 0===E?void 0:E.partner)||void 0===P?void 0:P.id,onCallback:e=>{ne.refetch(),te(e)}})),!V&&"partner"===O&&n.createElement(U.Z.TabPane,{key:"12",tab:N("Bill.Title_other")},n.createElement(b,{userId:(null===(w=null===(_=ne.data)||void 0===_?void 0:_.partner)||void 0===w?void 0:w.id)?null===(I=ne.data)||void 0===I?void 0:I.id:void 0})),n.createElement(U.Z.TabPane,{key:"13",tab:N("User.WalletTransaction.TabTitle"),disabled:V},n.createElement(L.Z,{userId:null===(k=ne.data)||void 0===k?void 0:k.id})))))}const _e=N.ZP.div`
  padding: 32px 16px;
  border-radius: 12px;
  background: #fff;
  margin-top: 16px;

  & .content {
    padding: 12px 0;
  }

  & .user-tabs .ant-tabs-nav-list {
    margin-left: 0;

    & .ant-tabs-tab {
      flex: 1;
      display: flex;
      justify-content: center;
    }
    & .ant-tabs-tab-active {
      background-color: #009ddc;

      & .ant-tabs-tab-btn {
        color: white;
      }
    }
  }
`;function we(){return n.createElement(r.Z5,null,n.createElement(r.AW,{path:"",element:n.createElement(u,null)}),n.createElement(r.AW,{path:"/user",element:n.createElement(u,null)}),n.createElement(r.AW,{path:"/admin",element:n.createElement(o,null)}),n.createElement(r.AW,{path:"/partner",element:n.createElement(s,null)}),n.createElement(r.AW,{path:"/employee",element:n.createElement(c,null)}),n.createElement(r.AW,{path:"/manage/:role",element:n.createElement(Ze,null)}),n.createElement(r.AW,{path:"/manage/:role/:user_id",element:n.createElement(Ze,null)}))}},34435:function(e,t,a){a.d(t,{b:function(){return o},k:function(){return c}});var n=a(14206),r=a.n(n),l=(a(6673),a(68312)),i=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){e.done?a(e.value):r(e.value).then(i,o)}c((n=n.apply(e,t||[])).next())}))};const o=({userId:e,contact_group_id:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield r().put(`users/${e}/invoice-contact-group`,{invoice_contact_group_id:t},{validateStatus:e=>200===e})).data.data}catch(e){throw new Error(e)}})),c=({userId:e,invoiceContactGroupId:t})=>i(void 0,void 0,void 0,(function*(){var a,n;const r=new l.fk(e);try{const e=yield r.apiService.getOne(t);return null!==(n=null===(a=e.address)||void 0===a?void 0:a.address_complete)&&void 0!==n?n:"-"}catch(a){throw new Error(a)}}))},55350:function(e,t,a){a.d(t,{X:function(){return i}});var n=a(14206),r=a.n(n),l=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){e.done?a(e.value):r(e.value).then(i,o)}c((n=n.apply(e,t||[])).next())}))};const i=({userId:e})=>l(void 0,void 0,void 0,(function*(){try{return(yield r().get(`users/${e}/user-banks`,{validateStatus:e=>e<500})).data.data}catch(e){throw new Error(e)}}))},39254:function(e,t,a){a(23903);var n=a(96297),r=a(33996),l=a(27378);t.Z=({walletId:e,userId:t})=>{const a=new n.Z;return l.createElement(r.Xg,{module:a},l.createElement(r.Xg.Panel,null,l.createElement(r.s_.Header,{hasSearch:!0,hasNew:!1,noDescription:!0}),l.createElement(r.s_.ListView,{dontNavigate:!0,module:a,hasUpdate:!1,params:{walletId:e,holderId:t}})))}},96297:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(38056),r=(a(95171),a(34234)),l=a(46322);a(23903);class i{constructor(){this.entity="/wallet-transactions",this.title=[n.ZP.t("Wallets.Transaction.Title"),n.ZP.t("Wallets.Transaction.Title",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0]),this.breadcrumbItems=[],this.detailColumns=[],this.tableColumns=[{key:"type",dataIndex:"type",className:"hasTile",title:n.ZP.t("Global.Type")},{key:"user",dataIndex:["wallet","user"],render:l.Pb,title:n.ZP.t("Wallets.FullName")},{key:"amount",dataIndex:"amount",className:"hasTile number",title:n.ZP.t("Global.Amount")},{key:"date",dataIndex:"date",className:"hasTile",render:l.JK,title:n.ZP.t("Global.Date")},{key:"type",dataIndex:"type",className:"hasTile",title:n.ZP.t("Global.Type")}]}}},23903:function(e,t,a){a(30414)},91183:function(e){e.exports=JSON.parse('{"AW":"careerstsdsdeps/*"}')}}]);