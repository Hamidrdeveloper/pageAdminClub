"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3205],{2837:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(38056),l=(a(95171),a(34234)),r=a(89560),i=(a(69938),a(63829));class c{constructor(){this.entity="/calendar-categories",this.title=[n.ZP.t("Calendar.Category.Title"),n.ZP.t("Calendar.Category.Title",{count:2})],this.apiService=new l.Vx(this.entity,this.title[0]),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${i.AW.replace("*","")}category`}],this.detailColumns=[{key:"id",label:"ID"},{key:"name",label:n.ZP.t("Global.Name")}],this.tableColumns=[{width:140,key:"name",dataIndex:"name",className:"hasTile",title:n.ZP.t("Global.Name")},{width:140,key:"slug",dataIndex:"slug",className:"hasTile",title:n.ZP.t("Calendar.Category.Field.Slug")},{width:140,key:"parent",dataIndex:["parent","name"],className:"hasTile",title:n.ZP.t("Calendar.Category.Field.Parent")},{width:140,className:"hasTile",key:"created_at",dataIndex:"created_at",render:r.JK,title:n.ZP.t("Calendar.CreatedAt")}]}}},89560:function(e,t,a){a.d(t,{JK:function(){return s},WN:function(){return d},JW:function(){return u}});var n=a(91170),l=a(31675),r=a(34940),i=a(27378),c=a(31602);const s=e=>i.createElement("span",null,e?(0,l.Wb)(new Date(e.replace(/'-'/g,"/"))):"-"),d=({data:e})=>i.createElement("span",null,i.createElement("strong",null,e?(0,l.Wb)(new Date(e.replace(/'-'/g,"/"))):"-")),u=e=>i.createElement(c.rU,{to:`/admin/calendar/events/${e}`},i.createElement(r.Z,{color:"magenta"},i.createElement(n.Z,null),i.createElement("span",null,"Events")))},82532:function(e,t,a){a.d(t,{Z:function(){return v}});a(95171);var n=a(34234),l=a(27378),r=a(56552),i=a(2837),c=a(33996),s=a(3288),d=a(35062),u=a(10374),m=a(25724),o=a(48158),E=a(60071);a(69938);var b=({onSubmit:e,isPending:t,initialValues:a})=>{const{t:n}=(0,E.$)(),[r]=s.Z.useForm();return(0,l.useEffect)((()=>{a&&r.setFieldsValue(a)}),[a]),l.createElement(s.Z,{form:r,layout:"vertical",onFinish:e,name:"calendar-category-form",initialValues:{is_active:!0,translate:[{locale:void 0,name:""}]}},l.createElement(d.Z,{justify:"space-between",gutter:16},l.createElement(u.Z,{span:24},l.createElement(s.Z.Item,{required:!0},l.createElement(c.Es,null)))),l.createElement(d.Z,{justify:"space-between",gutter:16},l.createElement(u.Z,{span:8},l.createElement(s.Z.Item,{label:n("Calendar.Category.Field.Sort"),name:"sort"},l.createElement(m.Z,{min:0,placeholder:n("Global.InputPlaceholder",{title:n("Calendar.Category.Field.Sort")})}))),l.createElement(u.Z,{flex:1,style:{paddingTop:30}},l.createElement(s.Z.Item,{name:"is_active",valuePropName:"checked"},l.createElement(o.Z,null,n("Global.IsActive"))))),l.createElement(c.Ow,{isPending:t}))},p=(a(44126),function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a});var v=({onCallback:e,singleData:t})=>{const a=new i.Z,{mutate:c,isLoading:s}=(0,r.useMutation)((({id:e,values:t})=>e?a.apiService.updateOne(e,t):a.apiService.createOne(t)));return l.createElement(b,{initialValues:t,onSubmit:a=>{const{translate:l,parent:r}=a,i=p(a,["translate","parent"]),s=Object.assign(Object.assign({},i),{parent_id:r?r.id:null,translate:(0,n.mj)(l)});c({id:t?t.id:void 0,values:s},{onSuccess:t=>null==e?void 0:e(t)})},isPending:s})}},69938:function(e,t,a){a(2010),a(95171)},30690:function(e,t,a){a(2010),a(69938)},44126:function(e,t,a){a(69938)},93205:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var n=a(27378),l=a(96740),r=a(33996),i=a(60071),c=a(38056),s=(a(95171),a(34234)),d=a(89560),u=(a(69938),a(63829));class m{constructor(){this.entity="/calendars",this.title=[c.ZP.t("Calendar.Title"),c.ZP.t("Calendar.Title",{count:2})],this.apiService=new s.Vx(this.entity,this.title[0]),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${u.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:"ID"},{key:"name",label:c.ZP.t("Global.Name")},{key:"created_at",render:d.WN,label:c.ZP.t("Calendar.CreatedAt")}],this.tableColumns=[{width:140,key:"name",dataIndex:"name",className:"hasTile",title:c.ZP.t("Global.Name")},{width:140,className:"hasTile",key:"created_at",dataIndex:"created_at",render:d.JK,title:c.ZP.t("Calendar.CreatedAt")},{key:"user_id",title:"Action",dataIndex:"user_id",className:"hasTile",width:100,render:(e,t)=>(0,d.JW)(t.id)}]}}function o(){const{t:e}=(0,i.$)(),t=new m;return n.createElement(r.Xg,{module:t},n.createElement(r.Xg.Breadcrumb,null),n.createElement(r.Xg.Panel,null,n.createElement(r.s_.Header,{hasSearch:!0,hasNew:!0}),n.createElement(r.s_.ListView,{module:t,tableScroll:{x:1450,y:475},togglers:[{dataIndex:"is_active",title:e("Global.IsActive"),url:"active"}]})))}var E=a(2837);function b(){const e=new E.Z;return n.createElement(r.Xg,{module:e},n.createElement(r.Xg.Breadcrumb,null),n.createElement(r.Xg.Panel,null,n.createElement(r.s_.Header,{hasSearch:!0,hasNew:!0,hasDelete:!0}),n.createElement(r.s_.ListView,{hasActive:!0,module:e,tableScroll:{x:1450,y:475}})))}var p=a(53988),v=a(3487),h=a(82532);var f=()=>{const e=(0,l.s0)(),{category_id:t}=(0,l.UO)(),[a,i]=(0,n.useState)(!0),[s,d]=(0,n.useState)({}),m=new E.Z,o=m.title[0],b=`${u.AW.replace("*","")}`,f=[...m.breadcrumbItems,{path:"",breadcrumbName:t?`${c.ZP.t("Global.Update")} ${o} - ${t}`:`${c.ZP.t("Global.New")} ${o}`}];(0,n.useEffect)((()=>{t?(i(!0),m.apiService.getOne(+t).then((e=>{d(e)})).finally((()=>{i(!1)}))):i(!1)}),[]);return n.createElement(r.Xg,{module:m},n.createElement(r.Xg.Breadcrumb,{routes:f}),n.createElement(r.Xg.Panel,null,n.createElement(v.j,null,n.createElement("div",{className:"header"},n.createElement(p.Z,{onClose:()=>e(`/admin${b}category`),items:f})),a?n.createElement(r.aN,null):n.createElement(h.Z,{singleData:s,onCallback:()=>{e(-1)}}))))},g=a(56552),y=a(2010),Z=a(3288),P=a(35062),w=a(10374),C=a(97851),N=a(48158),O=a(72961);function I({onSubmit:e,isPending:t,initialValues:a}){const{t:l}=(0,i.$)(),[c]=Z.Z.useForm();return(0,n.useEffect)((()=>{a&&c.setFieldsValue(Object.assign({},a))}),[a]),n.createElement(Z.Z,{form:c,name:"country-form",layout:"vertical",onFinish:e,initialValues:{is_active:!1,is_editable:!1,is_visible:!1}},n.createElement(n.Suspense,{fallback:n.createElement(r.aN,null)},n.createElement(P.Z,{gutter:[32,8],align:"bottom"},n.createElement(w.Z,{flex:1},n.createElement(P.Z,{gutter:[32,8]},n.createElement(w.Z,{xs:12},n.createElement(Z.Z.Item,{label:l("Calendar.Field.Name"),name:"name",rules:[{required:!0}]},n.createElement(C.Z,{placeholder:l("Global.InputPlaceholder",{title:l("Calendar.Field.Name")})}))),n.createElement(w.Z,{xs:12},n.createElement(Z.Z.Item,{label:l("Calendar.Field.User"),name:"user",rules:[{required:!0}]},n.createElement(y.o,null))))),n.createElement(w.Z,null,n.createElement(Z.Z.Item,{name:"is_active",valuePropName:"checked"},n.createElement(N.Z,null,l("Global.IsActive"))))),n.createElement(P.Z,{gutter:[32,8],align:"bottom"},n.createElement(w.Z,{flex:1},n.createElement(P.Z,{gutter:[32,8]},n.createElement(w.Z,{xs:24},n.createElement(Z.Z.Item,{label:l("Calendar.Field.Users"),name:"users",rules:[{required:!0}]},n.createElement(y.o,{isMulti:!0}))))),n.createElement(w.Z,null,n.createElement(O.Z,null,n.createElement(Z.Z.Item,{name:"is_editable",valuePropName:"checked"},n.createElement(N.Z,null,l("Calendar.Field.IsEditable"))),n.createElement(Z.Z.Item,{name:"is_visible",valuePropName:"checked"},n.createElement(N.Z,null,l("Calendar.Field.IsVisible")))))),n.createElement(r.Ow,{isPending:t})))}a(44126);var S=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a};var _=({onCallback:e,singleData:t})=>{const a=new m,{mutate:l,isLoading:r}=(0,g.useMutation)((({id:e,values:t})=>e?a.apiService.updateOne(e,t):a.apiService.createOne(t)));return n.createElement(I,{initialValues:t,onSubmit:a=>{const{user:n,users:r,is_editable:i,is_visible:c}=a,s=S(a,["user","users","is_editable","is_visible"]),d=Object.assign(Object.assign({},s),{user_id:null==n?void 0:n.id,users:{is_visible:c,is_editable:i,ids:(r||[]).map((e=>e.id))}});l({id:t?t.id:void 0,values:d},{onSuccess:t=>null==e?void 0:e(t)})},isPending:r})};var x=()=>{const e=(0,l.s0)(),{calendar_id:t}=(0,l.UO)(),[a,i]=(0,n.useState)(!0),[s,d]=(0,n.useState)({}),o=new m,E=o.title[0],b=`${u.AW.replace("*","")}`,h=[...o.breadcrumbItems,{path:"",breadcrumbName:t?`${c.ZP.t("Global.Update")} ${E} - ${t}`:`${c.ZP.t("Global.New")} ${E}`}];(0,n.useEffect)((()=>{t?(i(!0),o.apiService.getOne(+t).then((e=>{d(e)})).finally((()=>{i(!1)}))):i(!1)}),[]);return n.createElement(r.Xg,{module:o},n.createElement(r.Xg.Breadcrumb,{routes:h}),n.createElement(r.Xg.Panel,null,n.createElement(v.j,null,n.createElement("div",{className:"header"},n.createElement(p.Z,{onClose:()=>e(`/admin${b}`),items:h})),a?n.createElement(r.aN,null):n.createElement(_,{singleData:s,onCallback:()=>{e(-1)}}))))},k=(a(30690),a(79435));const $=(0,n.lazy)((()=>Promise.all([a.e(3581),a.e(5408)]).then(a.bind(a,15408))));var A=()=>{const e=(0,l.s0)(),{calendar_id:t}=(0,l.UO)(),[a,i]=(0,n.useState)(!0),[c,s]=(0,n.useState)([]),d=new m,o=`${u.AW.replace("*","")}`,E=[...d.breadcrumbItems,{path:"",breadcrumbName:"Calendar Events"}];(0,n.useEffect)((()=>{t?(0,k.ys)(Number(t)).then((e=>{s(e),i(!1)})):i(!1)}),[]);return n.createElement(r.Xg,{module:d},n.createElement(r.Xg.Breadcrumb,{routes:E}),n.createElement(r.Xg.Panel,null,n.createElement(v.j,null,n.createElement("div",{className:"header"},n.createElement(p.Z,{onClose:()=>e(`/admin${o}`),items:E})),n.createElement(n.Suspense,{fallback:n.createElement("p",null,"Loading")},a?n.createElement(r.aN,null):n.createElement($,{calendarId:t,calendarEvents:c,afterEventDelete:e=>{s(c.filter((t=>t.id!==e)))},afterEventCreate:e=>{s([...c,e])},afterEventUpdate:e=>{s(c.map((t=>t.id===e.id?e:t)))}})))))};function j(){return n.createElement(l.Z5,null,n.createElement(l.AW,{path:"",element:n.createElement(o,null)}),n.createElement(l.AW,{path:"/upsert",element:n.createElement(x,null)}),n.createElement(l.AW,{path:"/events/:calendar_id",element:n.createElement(A,null)}),n.createElement(l.AW,{path:"/upsert/:calendar_id",element:n.createElement(x,null)}),n.createElement(l.AW,{path:"/category",element:n.createElement(b,null)}),n.createElement(l.AW,{path:"/category/upsert",element:n.createElement(f,null)}),n.createElement(l.AW,{path:"/category/upsert/:category_id",element:n.createElement(f,null)}))}},79435:function(e,t,a){a.d(t,{fE:function(){return d},KI:function(){return u},d1:function(){return m},ys:function(){return o}});var n=a(38056),l=a(34234),r=a(14206),i=a.n(r),c=(a(30690),function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,r){function i(e){try{s(n.next(e))}catch(e){r(e)}}function c(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){e.done?a(e.value):l(e.value).then(i,c)}s((n=n.apply(e,t||[])).next())}))});const s=new l.Vx("calendar-events",n.ZP.t("Calendar.Event.Title")),d=e=>c(void 0,void 0,void 0,(function*(){return yield s.createOne(e)})),u=(e,t)=>c(void 0,void 0,void 0,(function*(){return yield s.updateOne(e,t)})),m=e=>c(void 0,void 0,void 0,(function*(){try{return(yield i().delete(`calendar-events/${e}`)).data.data}catch(e){throw new Error(e)}})),o=e=>c(void 0,void 0,void 0,(function*(){try{return(yield i().get("calendar-events",{params:{orderBy:{id:"DESC"},per_page:50,calendarId:e}})).data.data}catch(e){throw new Error(e)}}))},3487:function(e,t,a){a.d(t,{j:function(){return n}});const n=a(26761).ZP.div`
  padding: 32px;
  .header {
    padding-bottom: 32px;
    margin-bottom: 32px;
    border-bottom: 1px dashed #ededed;
  }
`},63829:function(e){e.exports=JSON.parse('{"AW":"/calesdsdsdndar/*"}')}}]);