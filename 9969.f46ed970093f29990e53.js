"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9969],{5565:function(e,t,n){n.d(t,{Z:function(){return g}});var l=n(38056),a=(n(95171),n(34234)),r=n(27378),m=(n(61985),n(56591)),c=n(6110),i=n(56552),o=(n(30825),n(54326));const u=(e,t)=>r.createElement(m.Z,{type:"dashed",onClick:()=>{(0,o.pL)(null!=e?e:t.id).then((e=>window.open(e,"_blank")))}},l.ZP.t("DocumentSettings.Preview")),s=(e,t)=>{const n=null!=e?e:t.id,{mutate:a,isLoading:u}=(0,i.useMutation)(o.NK);return r.createElement(m.Z,{type:"dashed",onClick:()=>{a(n,{onSuccess:()=>{c.ZP.success(l.ZP.t("DocumentSettings.DocumentSettingsHasBeenSetToDefault"))}})},loading:u},l.ZP.t("DocumentSettings.ResetToDefault"))};var d=n(24815);class g{constructor(){this.entity="/document-setting-templates",this.title=[l.ZP.t("DocumentSettings.Title"),l.ZP.t("DocumentSettings.Title",{count:2})],this.apiService=new a.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,r.lazy)((()=>Promise.resolve().then(n.bind(n,5458)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${d.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:l.ZP.t("Global.ID")}],this.tableColumns=[{key:"name",className:"hasTile",title:l.ZP.t("Global.Name"),dataIndex:["translate","0","name"]},{key:"document_type",className:"hasTile",dataIndex:["documentType","name"],title:l.ZP.t("DocumentSettings.DocumentTypeName")},{dataIndex:"id",key:"preview-btn",className:"hasTile",render:u,title:l.ZP.t("DocumentSettings.Preview")},{dataIndex:"id",key:"preview-btn",className:"hasTile",render:s,title:l.ZP.t("DocumentSettings.ResetToDefault")}]}}},5458:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});n(95171);var l=n(27378),a=n(56552),r=n(46226),m=n(33996),c=n(3288),i=n(35062),o=n(10374),u=n(48158),s=n(60071),d=n(38056),g=n(34234),p=n(39338),E=n(62500),S=(n(13345),n(59748)),y=function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function m(e){try{i(l.next(e))}catch(e){r(e)}}function c(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){e.done?n(e.value):a(e.value).then(m,c)}i((l=l.apply(e,t||[])).next())}))};const b=(0,p.cn)([]),h=new g.Vx("document-types",d.ZP.t("DocumentSettings.DocumentType")),f=(0,S.el)((e=>({queryKey:["document-type",e(b)],queryFn:()=>y(void 0,void 0,void 0,(function*(){return(yield h.getAll({pagination:{per_page:46}})).data}))})));var D=function({value:e,loading:t=!1,onChange:n,maxHeight:a,placeholder:r=d.ZP.t("Global.SelectPlaceholder",{title:d.ZP.t("DocumentSettings.DocumentType")}),disabled:m=!1,menuPlacement:c="bottom"}){const[i]=(0,p.KO)(f);return l.createElement(E.ZP,{isClearable:!0,isLoading:!!t||void 0,options:i,isDisabled:m,onChange:e=>null==n?void 0:n(e),placeholder:r,maxMenuHeight:a,menuPlacement:c,menuPortalTarget:document.body,getOptionLabel:e=>null==e?void 0:e.name,getOptionValue:e=>String(null==e?void 0:e.id),styles:{menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999})},theme:e=>(0,g.$p)(e),classNamePrefix:"react-select",value:e})},v=(n(30825),n(19511)),_=n(25724),Z=n(9172);const x=({title:e,name:t,label:n})=>{const{t:a}=(0,s.$)();return l.createElement(v.Z,{trigger:["focus"],title:e,placement:"topLeft",overlayClassName:"numeric-input"},l.createElement(c.Z.Item,{name:t,label:null!=n?n:e},l.createElement(_.Z,{min:0,style:{width:"100%"},addonAfter:"px",placeholder:a("Global.InputPlaceholder",{title:e})})))};var C=({dataKey:e})=>{const{t:t}=(0,s.$)();return l.createElement(l.Fragment,null,l.createElement(i.Z,{gutter:16,justify:"space-between"},l.createElement(o.Z,{xs:24,sm:12,lg:6},l.createElement(x,{name:[...e,"margin-top"],title:t("DocumentSettings.MarginTop")})),l.createElement(o.Z,{xs:24,sm:12,lg:6},l.createElement(x,{name:[...e,"margin-left"],title:t("DocumentSettings.MarginLeft")})),l.createElement(o.Z,{xs:24,sm:12,lg:6},l.createElement(x,{name:[...e,"margin-right"],title:t("DocumentSettings.MarginRight")})),l.createElement(o.Z,{xs:24,sm:12,lg:6},l.createElement(x,{name:[...e,"margin-bottom"],title:t("DocumentSettings.MarginBottom")}))),l.createElement(i.Z,{gutter:16,justify:"space-between",align:"middle"},l.createElement(o.Z,{xs:24,lg:6},l.createElement(x,{name:[...e,"font-size"],title:t("DocumentSettings.FontSize"),label:t("DocumentSettings.FontSize")})),l.createElement(o.Z,{xs:24,lg:6},l.createElement(c.Z.Item,{name:[...e,"font-weight"],label:t("DocumentSettings.FontWeight")},l.createElement(Z.Z,{placeholder:t("Global.SelectPlaceholder",{title:t("DocumentSettings.FontWeight")}),options:[{label:t("DocumentSettings.Bold"),value:"bold"},{label:t("DocumentSettings.Normal"),value:"normal"},{label:t("DocumentSettings.Bolder"),value:"bolder"},{label:t("DocumentSettings.Lighter"),value:"lighter"}]}))),l.createElement(o.Z,{xs:24,lg:6},l.createElement(c.Z.Item,{name:[...e,"text-align"],label:t("DocumentSettings.TextAlign")},l.createElement(Z.Z,{placeholder:t("Global.SelectPlaceholder",{title:t("DocumentSettings.TextAlign")}),options:[{label:t("DocumentSettings.Left"),value:"left"},{label:t("DocumentSettings.Center"),value:"center"},{label:t("DocumentSettings.Right"),value:"right"},{label:t("DocumentSettings.Justify"),value:"justify"}]}))),l.createElement(o.Z,{xs:24,lg:6},l.createElement(c.Z.Item,{initialValue:!1,label:t("Global.IsActive"),name:[...e,"is-active"],valuePropName:"checked"},l.createElement(u.Z,null)))))},P=n(97851);var w=({dataKey:e})=>{const{t:t}=(0,s.$)();return l.createElement(i.Z,{gutter:16,justify:"space-around"},l.createElement(o.Z,{span:20},l.createElement(c.Z.Item,{name:[...e,"label"],rules:[{required:!0}],initialValue:[...e,"label"].filter((e=>!/\d+/.test(String(e)))).join(" "),label:t("DocumentSettings.Label")},l.createElement(P.Z,{placeholder:t("Global.InputPlaceholder",{title:t("DocumentSettings.Label")})}))),l.createElement(o.Z,null,l.createElement(c.Z.Item,{initialValue:!1,label:t("Global.IsActive"),name:[...e,"is-active"],valuePropName:"checked"},l.createElement(u.Z,null))))};var F=({dataKey:e})=>{const{t:t}=(0,s.$)();return l.createElement("div",{key:e.join(" ")},l.createElement(i.Z,{gutter:16,justify:"space-between"},l.createElement(o.Z,{xs:24,lg:12},l.createElement(c.Z.Item,{name:[...e,"label"],rules:[{required:!0}],initialValue:[...e,"label"].filter((e=>!/\d+/.test(String(e)))).join(" "),label:t("DocumentSettings.Label")},l.createElement(P.Z,{placeholder:t("Global.InputPlaceholder",{title:t("DocumentSettings.Label")})}))),l.createElement(o.Z,{xs:24,lg:12},l.createElement(c.Z.Item,{name:[...e,"priority"],initialValue:1,label:t("DocumentSettings.Priority")},l.createElement(_.Z,{style:{width:"100%"},placeholder:t("Global.InputPlaceholder",{title:t("DocumentSettings.Priority")})})))),l.createElement(C,{dataKey:[...e]}))},U=n(26761);const K=U.ZP.div`
  border: 1px solid #d9d9d9;
  padding: 20px;

  background-color: #fafafa;

  border-radius: ${e=>e.radius}px;
`;var I={MainContainer:K,FieldSet:U.ZP.fieldset`
  border: 1px solid #d9d9d9;
  border-radius: 20px;
  padding: 20px 25px 35px;
  margin-bottom: 40px;
  margin-top: 10px;

  legend {
    color: #235b81;
    width: auto;
    padding: 0 10px;
    font-weight: bold;
    margin-bottom: 0;
    margin-left: 15px;
    border-bottom: 0;
  }

  .checkbox-legend {
    .ant-checkbox-wrapper {
      color: #235b81;
    }

    margin-bottom: 0;
  }

  .space {
    display: flex;
    gap: 8px;

    &:not(:last-child) {
      margin-bottom: 16px;
    }

    .ant-select {
      width: 150px;
    }

    .ant-input-group {
      display: flex;
      flex: 1;

      &.gap {
        gap: 8px;

        & input {
          border-radius: 4px;
        }
      }
    }
  }
`};var k=({dataKey:e})=>{const{t:t}=(0,s.$)();return l.createElement("div",{key:e.join(" ")},l.createElement(I.FieldSet,null,l.createElement("legend",null,t("DocumentSettings.Label").toUpperCase()),l.createElement(i.Z,{gutter:16,justify:"space-between"},l.createElement(o.Z,{xs:24,lg:12},l.createElement(c.Z.Item,{name:[...e,"label","label"],rules:[{required:!0}],initialValue:[...e,"label"].filter((e=>!/\d+/.test(String(e)))).join(" "),label:t("DocumentSettings.Label")},l.createElement(P.Z,{placeholder:t("Global.InputPlaceholder",{title:t("DocumentSettings.Label")})}))),l.createElement(o.Z,{xs:24,lg:12},l.createElement(c.Z.Item,{name:[...e,"label","width"],label:t("DocumentSettings.Width")},l.createElement(_.Z,{addonAfter:"px",style:{width:"100%"},placeholder:t("Global.InputPlaceholder",{title:t("DocumentSettings.Width")})})))),l.createElement(C,{dataKey:[...e,"label"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,t("Global.Value").toUpperCase()),l.createElement(C,{dataKey:[...e,"value"]})))};function N({onSubmit:e,isPending:t,initialValues:n}){const{t:a}=(0,s.$)(),[d]=c.Z.useForm();return(0,l.useEffect)((()=>{n&&d.setFieldsValue(n)}),[n]),l.createElement(I.MainContainer,{radius:10},l.createElement(c.Z,{form:d,name:"document-settings-form",layout:"vertical",onFinish:e,scrollToFirstError:!0},l.createElement(c.Z.Item,{required:!0},l.createElement(m.Es,null)),l.createElement(i.Z,{gutter:16},l.createElement(o.Z,{xs:12},l.createElement(c.Z.Item,{name:"documentType",rules:[{required:!0}],label:a("DocumentSettings.DocumentType")},l.createElement(D,null))),l.createElement(o.Z,{xs:12},l.createElement(c.Z.Item,{name:"company",rules:[{required:!0}],label:a("DocumentSettings.Company")},l.createElement(r.Z,null)))),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Header").toUpperCase()),l.createElement(C,{dataKey:["data",0,"header"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Logo").toUpperCase()),l.createElement(x,{title:a("DocumentSettings.Width"),name:["data",0,"logo","width"]}),l.createElement(C,{dataKey:["data",0,"logo"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Footer").toUpperCase()),l.createElement(C,{dataKey:["data",0,"footer"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Body").toUpperCase()),l.createElement(C,{dataKey:["data",0,"body"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.ExtraElements").toUpperCase()),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.InvoiceAddress").toUpperCase()),l.createElement(k,{dataKey:["extra_elements",0,"invoice_address",0]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.DeliveryAddress").toUpperCase()),l.createElement(k,{dataKey:["extra_elements",0,"delivery_address",0]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.PageNumber").toUpperCase()),l.createElement(k,{dataKey:["extra_elements",0,"page_number",0]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.DocumentName").toUpperCase()),l.createElement(w,{dataKey:["extra_elements",0,"document_name"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Comment").toUpperCase()),l.createElement(k,{dataKey:["extra_elements",0,"comment",0]}))),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.StockUnitElements").toUpperCase()),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Position").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"position"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Price").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"price"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Quantity").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"quantity"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.ItemID").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"item_id"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.ItemName").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"item_name"]}),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Header").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"header"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Vat").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"VAT"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Discount").toUpperCase()),l.createElement(F,{dataKey:["stock_unit_elements",0,"discount"]})))),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.MandatoryElements").toUpperCase()),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.OrderID").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"order_id"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("Global.Date").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"date"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.OrderOn").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"order_on"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.CustomerID").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"customer_id"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Currency").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"currency"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Referrer").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"referrer"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.CustomerClass").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"customer_class"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.VatNumber").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"vat_number"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.OwnVatNumber").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"own_vat_number"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.InvoiceNumber").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"invoice_number"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.PaymentMethod").toUpperCase()),l.createElement(F,{dataKey:["mandatory_elements",0,"payment_method"]}))),l.createElement(I.FieldSet,null,l.createElement("legend",null,l.createElement(c.Z.Item,{className:"checkbox-legend",name:["mlm_elements",0,"show_mlm"],valuePropName:"checked"},l.createElement(u.Z,null,a("DocumentSettings.ShowMLM")))),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Point").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"point"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.BFU").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"bfu"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.EMPVK").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"emp_vk"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Rabatt").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"rabatt"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.CareerLevelBonus").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"career_level_bonus"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.Header").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"header"]})),l.createElement(I.FieldSet,null,l.createElement("legend",null,a("DocumentSettings.CareerLevel").toUpperCase()),l.createElement(F,{dataKey:["mlm_elements",0,"career_level"]}))),l.createElement(m.Ow,{isPending:t})))}var O=n(5565),L=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(n[l[a]]=e[l[a]])}return n};var T=({onCallback:e,singleData:t})=>{const n=new O.Z,{mutate:r,isLoading:m}=(0,a.useMutation)((({id:e,values:t})=>e?n.apiService.updateOne(e,t):n.apiService.createOne(t)));return l.createElement(N,{onSubmit:n=>{var l;const{documentType:a,mlm_elements:m,company:c}=n,i=L(n,["documentType","mlm_elements","company"]),o=Object.assign({company_id:null==c?void 0:c.id,document_type_id:null==a?void 0:a.id,mlm_elements:[Object.assign(Object.assign({},m[0]),{show_mlm:null!==(l=m[0].show_mlm)&&void 0!==l&&l})]},i);console.log({formValues:n,values:o}),r({id:t?t.id:void 0,values:o},{onSuccess:e})},isPending:m,initialValues:t})}},30825:function(e,t,n){n(9378),n(95171),n(13345)},13345:function(e,t,n){n(95171)},29969:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var l=n(27378),a=n(96740),r=n(33996),m=n(5565);n(30825);function c(){const e=new m.Z;return l.createElement(r.Xg,{module:e},l.createElement(r.Xg.Breadcrumb,null),l.createElement(r.Xg.Panel,null,l.createElement(r.s_.Header,{hasSearch:!0,hasNew:!0,newLink:"./upsert",noDescription:!0}),l.createElement(r.s_.ListView,{module:e,hasUpdate:!0,updateLink:"./upsert"})))}var i=n(38056),o=n(3487),u=n(5458),s=n(24815),d=n(54326);var g=()=>{const e=(0,a.s0)(),{document_settings_id:t}=(0,a.UO)(),[n,c]=(0,l.useState)({}),[g,p]=(0,l.useState)(!0),E=new m.Z,S=E.title[0],y=`${s.AW.replace("*","")}`,b=[...E.breadcrumbItems,{path:"",breadcrumbName:t?`${i.ZP.t("Global.Update")} ${S} - ${t}`:`${i.ZP.t("Global.New")} ${S}`}];(0,l.useEffect)((()=>{t?(p(!0),(0,d.yS)(+t).then((e=>{c(e),p(!1)})).catch((()=>{p(!1)}))):p(!1)}),[]);return l.createElement(r.Xg,{module:E},l.createElement(r.Xg.Breadcrumb,{routes:b}),l.createElement(r.Xg.Panel,null,l.createElement(o.j,null,l.createElement("div",{className:"header"},l.createElement(r.xB,{onClose:()=>e(`/admin${y}`),items:b})),g?l.createElement(r.aN,null):l.createElement(u.default,{singleData:n,onCallback:()=>{e(-1)}}))))};function p(){return l.createElement(a.Z5,null,l.createElement(a.AW,{path:"",element:l.createElement(c,null)}),l.createElement(a.AW,{path:"/upsert",element:l.createElement(g,null)}),l.createElement(a.AW,{path:"/upsert/:document_settings_id",element:l.createElement(g,null)}))}},54326:function(e,t,n){n.d(t,{yS:function(){return c},pL:function(){return i},NK:function(){return o}});var l=n(61985),a=n(14206),r=n.n(a),m=(n(30825),function(e,t,n,l){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function m(e){try{i(l.next(e))}catch(e){r(e)}}function c(e){try{i(l.throw(e))}catch(e){r(e)}}function i(e){e.done?n(e.value):a(e.value).then(m,c)}i((l=l.apply(e,t||[])).next())}))});function c(e){return m(this,void 0,void 0,(function*(){try{return(yield r().get(`/document-setting-templates/${e}`)).data}catch(e){throw new Error(e)}}))}function i(e){var t;return m(this,void 0,void 0,(function*(){try{const n=yield r().get(`document-setting-templates/${e}/preview`);return l.Xb.PURE_URL+"/"+(null===(t=n.data.data)||void 0===t?void 0:t.preview_link)}catch(e){throw new Error(e)}}))}function o(e){return m(this,void 0,void 0,(function*(){try{yield r().put(`document-setting-templates/${e}/default`)}catch(e){throw new Error(e)}}))}},3487:function(e,t,n){n.d(t,{j:function(){return l}});const l=n(26761).ZP.div`
  padding: 32px;
  .header {
    padding-bottom: 32px;
    margin-bottom: 32px;
    border-bottom: 1px dashed #ededed;
  }
`},24815:function(e){e.exports=JSON.parse('{"AW":"/documensdsdsdts/doc-settings/*"}')}}]);