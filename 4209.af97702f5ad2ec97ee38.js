"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4209],{99019:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(50189),l=n(27378),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"},i=n(92788),o=function(e,t){return l.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:r}))};o.displayName="EyeFilled";var s=l.forwardRef(o)},52038:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(50189),l=n(27378),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M508 624a112 112 0 00112-112c0-3.28-.15-6.53-.43-9.74L498.26 623.57c3.21.28 6.45.43 9.74.43zm370.72-458.44L836 122.88a8 8 0 00-11.31 0L715.37 232.23Q624.91 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.7 119.43 136.55 191.45L112.56 835a8 8 0 000 11.31L155.25 889a8 8 0 0011.31 0l712.16-712.12a8 8 0 000-11.32zM332 512a176 176 0 01258.88-155.28l-48.62 48.62a112.08 112.08 0 00-140.92 140.92l-48.62 48.62A175.09 175.09 0 01332 512z"}},{tag:"path",attrs:{d:"M942.2 486.2Q889.4 375 816.51 304.85L672.37 449A176.08 176.08 0 01445 676.37L322.74 798.63Q407.82 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5z"}}]},name:"eye-invisible",theme:"filled"},i=n(92788),o=function(e,t){return l.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:r}))};o.displayName="EyeInvisibleFilled";var s=l.forwardRef(o)},53513:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(50189),l=n(27378),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},i=n(92788),o=function(e,t){return l.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:r}))};o.displayName="MailOutlined";var s=l.forwardRef(o)},8531:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(38056),l=n(33996),r=(n(95171),n(34234)),i=n(27378),o=(n(56762),n(54370));class s{constructor(){this.entity="http://88.198.95.174:2020/ClubAdmin/GetAllChant_Audio",this.title=[a.ZP.t("Country.Title"),a.ZP.t("Country.Title",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0]),this.UpsertComponent=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,89425)))),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin${o.AW.replace("*","")}`}],this.detailColumns=[{key:"color",label:a.ZP.t("Flag.Field.Color")},{key:"icon",label:a.ZP.t("Flag.Field.Icon")}],this.tableColumns=[{key:"name",width:120,dataIndex:"name",className:"hasTile",title:a.ZP.t("Global.Name")},{key:"icon",dataIndex:"icon",className:"hasTile",title:a.ZP.t("Flag.Field.Icon"),render:(e,t)=>l.f[e]?l.f[e]({color:t.color}):"-"}],this.icons=[{key:1,icon:"FaBell"},{key:2,icon:"FaStar"},{key:3,icon:"FaLock"},{key:4,icon:"FaExclamationCircle"},{key:5,icon:"FaExclamationTriangle"},{key:6,icon:"FaBomb"},{key:7,icon:"FaCloudShowersHeavy"},{key:8,icon:"FaCloudMoonRain"},{key:9,icon:"FaCloudMeatball"},{key:10,icon:"FaSun"},{key:11,icon:"FaFlag"}]}}},89425:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});n(95171);var a=n(34234),l=n(27378),r=n(56552),i=n(33996),o=n(3288),s=n(35062),c=n(10374),u=n(97851),d=n(1269),m=n(48158),p=n(60071),v=n(26761),f=n(8531);n(56762);function g({onSubmit:e,isPending:t,initialValues:n}){const[a]=o.Z.useForm(),{t:r}=(0,p.$)();new f.Z;return(0,l.useEffect)((()=>{n&&a.setFieldsValue(n)}),[n]),l.createElement(o.Z,{form:a,layout:"vertical",onFinish:e,name:"flag-form",initialValues:{}},l.createElement(s.Z,{gutter:[16,0]},l.createElement(c.Z,{xs:12},l.createElement(o.Z.Item,{name:"title",label:"Title",rules:[{required:!0}]},l.createElement(u.Z,{placeholder:"Title"}))),l.createElement(c.Z,{xs:12},l.createElement(o.Z.Item,{name:"startTime_ms",label:"Start Time ms",rules:[{required:!0}],valuePropName:"date"},l.createElement(d.Z,{format:"mm:ss",placeholder:"Start Time"}))),l.createElement(c.Z,{xs:12},l.createElement(o.Z.Item,{name:"duration_ms",label:"Duration_ms",rules:[{required:!0}],valuePropName:"date"},l.createElement(d.Z,{format:"mm:ss",placeholder:"Duration_ms"}))),l.createElement(c.Z,{xs:12,style:{alignSelf:"end"}},l.createElement(o.Z.Item,{name:"isActive",valuePropName:"checked"},l.createElement(m.Z,null,"Is Active"))),l.createElement(c.Z,{xs:12,style:{alignSelf:"end"}},l.createElement(o.Z.Item,{name:"file",fieldKey:"file",label:r("Availability.Field.File")},l.createElement(i.gq,{form:a,idName:"file_id"})),l.createElement(o.Z.Item,{name:"file_id",hidden:!0},l.createElement(l.Fragment,null)))),l.createElement(i.Ow,{isPending:t}))}v.ZP.div`
  display: flex;
  align-items: center;

  & .icon {
    font-size: 1rem;
    margin-top: 4px;
    margin-right: 8px;
  }
`;var b=n(38056);var h=({chantId:e,onCallback:t,singleData:n})=>{const i=new f.Z,o=[b.ZP.t("ShippingProfile.Title"),b.ZP.t("ShippingProfile.Title",{count:2})],s=new a.Vx("http://88.198.95.174:2020/ClubAdmin/AddChant_Audio",o[0]),{mutate:c,isLoading:u}=(0,r.useMutation)((({id:e,values:t})=>e?i.apiService.updateOne(e,t):s.createOne(t)));return l.createElement(g,{initialValues:n,onSubmit:a=>{const l=new Date(a.duration_MSC),r=new Date(a.startTime_ms),i=6e4*parseInt(r.getMinutes()+"")+1e3*parseInt(r.getSeconds()+""),o=6e4*parseInt(l.getMinutes()+"")+1e3*parseInt(l.getSeconds()+""),s=Object.assign(Object.assign({},a),{clubId:1,adminId:12,chantId:e,duration_MSC:o,startTime_ms:i});c({id:n?n.id:void 0,values:s},{onSuccess:t})},isPending:u})}},70045:function(e,t,n){n.d(t,{l:function(){return b}});n(33996);var a=n(56591),l=n(39338),r=n(27378),i=n(60071),o=n(26761),s=(n(56762),n(59748)),c=n(8531),u=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?n(e.value):l(e.value).then(i,o)}s((a=a.apply(e,t||[])).next())}))};const d=(0,l.cn)([]),m=new c.Z,p=(0,s.el)((e=>({queryKey:["flags",e(d)],queryFn:()=>u(void 0,void 0,void 0,(function*(){return yield(yield m.apiService.getAll({pagination:{per_page:10},params:{isActive:!0}})).data}))})));var v=n(21244),f=n(89425),g=n(48955);var b=function({value:e,onChange:t,isMulti:n=!1,disabled:o=!1,isPending:s=!1}){const{t:c}=(0,i.$)(),[u,d]=(0,r.useState)(!1),[m,b]=(0,l.KO)(p);return r.createElement(r.Fragment,null,r.createElement(a.Z,{type:"primary",ghost:!0,icon:r.createElement(v.Z,null),onClick:e=>d(!0)}),r.createElement(g.Z,{isVisible:u,setVisible:d,title:"Audio"},r.createElement(f.default,{chantId:e,onCallback:()=>{b({type:"refetch"}),t()}})))};o.ZP.div`
  display: flex;
  align-items: center;

  & .icon {
    font-size: 1rem;
    margin-top: 4px;
    margin-right: 8px;
    & svg {
      color: ${e=>e.color} !important;
    }
  }
`},73507:function(e,t,n){var a=n(27378);t.Z=()=>a.createElement("div",null,"OOPS Looks like you have no supplier_id head back to the list")},94209:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var a=n(27378),l=n(96740),r=n(33996),i=(n(3931),n(43047));function o(){const e=new i.Z;return a.createElement(r.Xg,{module:e},a.createElement(r.Xg.Breadcrumb,null),a.createElement(r.Xg.Panel,null,a.createElement(r.s_.Header,{hasNew:!0,hasSearch:!0,newLink:"manage"}),a.createElement(r.s_.ListView,{module:e,updateLink:"manage"})))}var s=n(50836),c=n(39338),u=n(60071),d=n(56552),m=n(26761),p=n(17177),v=(n(6673),n(34435)),f=n(56591),g=n(6110),b=n(73507);n(40416);let h="tiles";var E=({queryResult:e})=>{var t,n;const{supplier_id:o}=(0,l.UO)();if(!o)return a.createElement(b.Z,null);const[s]=(0,c.KO)(le),d=null===(n=null===(t=e.data)||void 0===t?void 0:t.people)||void 0===n?void 0:n.user,{t:m}=(0,u.$)(),E=new i.f(o);return a.createElement(r.Xg,{module:E},a.createElement(r.Xg.Panel,{defaultListView:h,onListViewChange:e=>{h=e}},a.createElement(r.s_.Header,{hasNew:!0,newLink:"",ExtraAction:s?t=>a.createElement(f.Z,{type:"primary",onClick:()=>{s&&(0,v.b)({userId:+s,contact_group_id:+t[0]}).then((()=>{e.refetch(),g.ZP.success(m("Global.UpdatedSuccessfully",{title:m("User.Address.Title")}))}))},disabled:1!==t.length},m`User.Address.SetAsAnInvoiceAddress`):void 0,extraComponent:s?(0,p.Z)({userId:s,isLoading:e.isLoading,invoiceContactGroupId:null==d?void 0:d.invoice_contact_group_id}):void 0}),a.createElement(r.s_.ListView,{module:E,customEntities:{getOne:"/contact-groups/$1"},updateLink:"",greenSelectCondition:t=>{var n,a,l;return(null===(l=null===(a=null===(n=e.data)||void 0===n?void 0:n.people)||void 0===a?void 0:a.user)||void 0===l?void 0:l.invoice_contact_group_id)===t}})))},y=n(16170),Z=n(55350);var P=()=>{const[e]=(0,c.KO)(le);if(!e)return a.createElement(b.Z,null);const[t,n]=(0,a.useState)({}),[l,i]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{e&&(0,Z.X)({userId:+e}).then((e=>{i(!1),"number"!=typeof e&&n(e)})).catch((()=>{i(!1)}))}),[]),a.createElement(a.Fragment,null,l?a.createElement(r.aN,null):a.createElement(y.Z,{singleData:t,userId:e}))},w=(n(56762),n(80183)),I=(n(2010),n(95171),n(52314)),x=n(53513),_=n(54957),S=n(70045),C=n(59678),k=n(82988),F=n(3288),N=n(10374),U=n(26490),T=n(35062),O=n(97851),A=n(82615),M=n(48158),G=n(21329);var L=function({isModalVisible:e,setModalVisible:t,userId:n,userStatus:l,refetch:r}){const{t:o}=(0,u.$)(),s=new i.Z,{mutate:c}=(0,d.useMutation)((({id:e,values:t})=>s.apiService.request({url:`/users/${e}/active-status`,body:t,method:"PUT"})),{onSuccess:()=>{g.ZP.success(o("Supplier.CompanyInfo.UserDisabled")),r()}});return a.createElement(G.Z,{visible:e,width:500,closable:!0,closeIcon:!0,title:o("Supplier.CompanyInfo.DeActiveAccount"),okText:o("Supplier.CompanyInfo.DeActiveAccount"),okType:"danger",onCancel:()=>{t(!1)},onOk:()=>{c({id:n||void 0,values:{is_active:!l}}),t(!1)}},a.createElement(T.Z,null,a.createElement(N.Z,{span:24},a.createElement(U.Z.Text,null,o("Supplier.CompanyInfo.AskForDeActiveUser")))))};const D=m.ZP.div`
  .header {
    border: 1px solid #9d9d9d;
    border-radius: ${e=>e.radius}px;

    display: grid;
    grid-template-rows: 22px 75px 30px 80px 50px 22px;
    /* Make it second column smaller in smaller screens */
    grid-template-columns: 5% minmax(105px, max-content) auto 200px 5%;

    margin: 1rem 0;

    column-gap: 12px;
    row-gap: 12px;

    grid-template-areas:
      'bg bg bg bg bg'
      'bg bg bg bg bg'
      '. avatar . . .'
      '. info info btn .'
      '. info info joined .';
  }

  .order-btn {
    grid-area: btn;
    align-self: end;
  }

  .backgroundImg {
    grid-area: bg;
    border-top-left-radius: ${e=>e.radius}px;
    border-top-right-radius: ${e=>e.radius}px;

    background-color: #c4c4c4;
    & > img {
      width: 100%;
      height: 100%;
    }
  }
  .avatar {
    grid-area: avatar;
    grid-column: 2 / 3;
    grid-row: 2 / 4;

    display: flex;
    align-items: center;
    justify-content: center;

    max-width: 105px;
    max-height: 105px;

    border-radius: 50%;
  }
  .avatar-uploader {
    .ant-upload,
    .ant-upload-select,
    .ant-upload-select-picture-card {
      background: white;
      border-radius: 50%;
    }
  }

  .info {
    grid-area: info;

    display: flex;
    align-items: start;
    flex-direction: column;
    justify-content: space-around;
    .info-item {
      &.custom-svg {
        display: flex;
      }
      & > * {
        margin: 0 3px;
      }
    }
  }
  .joined {
    grid-area: joined;
    align-self: center;

    display: flex;
    justify-content: space-around;

    color: #009edc;
  }

  .vatInput {
    display: flex;
    justify-content: space-between;
  }
  .checkbox-container {
    .ant-form-item {
      height: 100%;
    }
  }
`;var V={MainContainer:D};const $=(0,m.ZP)(F.Z)`
  .ant-form-item {
    margin-bottom: 0;
    padding: 12px 12px 24px 12px;

    :nth-child(even) {
      background-color: #fbfbfb;
    }
    :nth-child(odd) {
      background-color: rgb(242, 242, 242);
    }
  }

  .greyBg {
    background-color: rgb(242, 242, 242) !important;
  }
  .whiteBg {
    background-color: #fbfbfb !important;
  }

  .ant-form-item-control-input {
    height: auto;
    display: flex;
    align-items: center;
  }

  .ant-form-item-label {
    white-space: normal;
    display: flex;
    align-items: center;

    & > label {
      height: auto;
    }
  }

  .leftCol {
    padding-right: ${e=>e.colspace}px;
  }
  .rightCol {
    padding-left: ${e=>e.colspace}px;
  }
`;var B={Container:$};var q=({onSubmit:e,editMode:t,refetch:l,flagPending:i,rolePending:o,onDeactivate:s,initialValues:c,deActivePending:d,flagChangeHandler:m,roleChangeHandler:p,isPending:v})=>{var g,b,h,E,y;const[Z]=F.Z.useForm(),{t:P}=(0,u.$)(),[G,D]=(0,a.useState)({}),[$,q]=(0,a.useState)(null==c?void 0:c.is_user),[j,R]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{var e,t,n,a,l,r;c&&(q(c.is_user),D({email:null===(e=c.user)||void 0===e?void 0:e.email,location:null===(n=null===(t=null==c?void 0:c.contactGroup)||void 0===t?void 0:t.country)||void 0===n?void 0:n.name,username:(null==c?void 0:c.is_user)?c.people.user.username:void 0,fullName:[null===(a=c.people)||void 0===a?void 0:a.first_name,null===(l=c.people)||void 0===l?void 0:l.last_name],isUser:null==c?void 0:c.is_user}),Z.setFieldsValue(Object.assign(Object.assign({},c),{flags:null===(r=c.flags)||void 0===r?void 0:r[0]})))}),[c]),a.createElement(V.MainContainer,{radius:5},a.createElement(B.Container,{form:Z,colon:!1,colspace:8,name:"user-form",onFinish:e,labelAlign:"left",labelCol:{xs:{span:8}},wrapperCol:{xs:{span:16}},layout:"horizontal",initialValues:{is_vat_valid:!1,discount_ratio:0,use_gln_indocuments:!1}},a.createElement(a.Suspense,{fallback:a.createElement(r.aN,null)},a.createElement(N.Z,{span:24,className:"header"},a.createElement("div",{className:"backgroundImg"},a.createElement("img",{src:n(81806),alt:"header"})),a.createElement("div",{className:"info"},a.createElement("div",{className:"info-item"},(null===(g=G.fullName)||void 0===g?void 0:g.join(" "))||" --- --- --- --- --- "),a.createElement("div",{className:"info-item custom-svg"},a.createElement(r.VZ,{width:14,height:14,src:"/global/location-pin.svg",color:"#6e82a5"}),a.createElement("span",null," ",G.location||" --- --- --- --- "," ")),$&&a.createElement("div",{className:"info-item"},a.createElement("span",null,a.createElement(I.Z,null)),G.username||" --- --- --- --- "),a.createElement("div",{className:"info-item"},a.createElement("span",null,a.createElement(x.Z,null)),a.createElement("span",null,G.email||" --- --- --- --- ")),t&&a.createElement("div",{className:"info-item"},a.createElement("span",null,a.createElement(_.Z,null)),(null==G?void 0:G.isUser)?a.createElement(a.Fragment,null,a.createElement(U.Z.Text,{type:"success"},P("Supplier.CompanyInfo.CanLoginToSystem"))):a.createElement(U.Z.Text,{type:"danger"},P("Supplier.CompanyInfo.CanNotLoginToSystem"))))),a.createElement(T.Z,{justify:"space-between"},a.createElement(N.Z,{xs:24,md:12,className:"leftCol"},a.createElement(F.Z.Item,{label:P("Global.Username"),name:["user","username"],hidden:$||t&&!$&&null!==(null==c?void 0:c.user)},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("Global.Username")})})),a.createElement(F.Z.Item,{hidden:$||t&&!$&&null!==(null==c?void 0:c.user),name:["user","password"],label:P("Global.Password"),rules:[{min:8,message:"Password should at least have 8 Characters"}]},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("Global.Password")})})),a.createElement(F.Z.Item,{label:P("Global.Email"),name:["user","email"],hidden:$||t&&!$&&null!==(null==c?void 0:c.user)},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("Global.Email")})})),a.createElement(F.Z.Item,{label:P("User.Field.Phone"),name:["user","telephone_number"],hidden:$||t&&!$&&null!==(null==c?void 0:c.user)},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.Phone")})})),a.createElement(F.Z.Item,{label:P("User.Field.FirstName"),name:["people","first_name"],rules:[{required:!0}]},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.FirstName")})})),a.createElement(F.Z.Item,{label:P("User.Field.LastName"),name:["people","last_name"],rules:[{required:!0}]},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.LastName")})})),a.createElement(F.Z.Item,{label:P("User.Field.Gender"),name:["people","gender"],rules:[{required:!0}]},a.createElement(A.ZP.Group,{options:[{label:P("User.Field.Male"),value:"male"},{label:P("User.Field.Female"),value:"female"},{label:P("User.Field.Other"),value:"none"}]})),a.createElement(F.Z.Item,{label:P("User.Field.CompanyName"),name:["people","company_name"]},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.CompanyName")})})),t&&a.createElement(F.Z.Item,{label:P("User.PersonalInfo.Flag"),name:"flags"},a.createElement(S.l,{onChange:m,isPending:i})),t&&$&&a.createElement(F.Z.Item,{label:P("User.Field.Roles"),name:["people","user","roles"]},a.createElement(w.D,{isMulti:!0,menuPlacement:"top",isClearable:!1,isPending:o,onChange:p})),a.createElement(F.Z.Item,{label:P("User.Field.TaxNumber"),name:"tax_number"},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.TaxNumber")})}))),a.createElement(N.Z,{xs:24,md:12,className:"rightCol"},a.createElement(F.Z.Item,{label:P("User.Field.VatNumber"),name:"vat_number"},a.createElement(O.Z,{min:0,style:{display:"flex"},placeholder:P("Global.InputPlaceholder",{title:P("Supplier.Field.VatNumber")}),addonBefore:a.createElement(F.Z.Item,{name:"is_vat_valid",valuePropName:"checked",noStyle:!0},a.createElement(M.Z,null,P("Supplier.Field.IsValid")))})),a.createElement(F.Z.Item,{label:P("User.Field.EoriNumber"),name:"eori_number"},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.EoriNumber")})})),a.createElement(F.Z.Item,{label:P("User.Field.CreditLimit"),name:"credit_limit"},a.createElement(O.Z,{placeholder:P("Global.InputPlaceholder",{title:P("User.Field.CreditLimit")})})),a.createElement(F.Z.Item,{label:P("User.Field.DefaultShippingMethod"),name:"shippingMethod",rules:[{required:!0}]},a.createElement(k.d,null)),a.createElement(F.Z.Item,{label:P("User.Field.DefaultPaymentTerms"),name:"paymentTerm",rules:[{required:!0}]},a.createElement(C.u,{menuPlacement:"top"})),a.createElement(T.Z,{wrap:!0,className:"checkbox-container"},a.createElement(N.Z,{xs:24,sm:12},a.createElement(F.Z.Item,{name:"communication_by_letter",valuePropName:"checked",className:"whiteBg"},a.createElement(M.Z,null,P("Supplier.CompanyInfo.CommunicationByLetter")))),a.createElement(N.Z,{xs:24,sm:12},a.createElement(F.Z.Item,{name:"use_gln_indocuments",valuePropName:"checked",className:"whiteBg"},a.createElement(M.Z,null,P("User.Field.UseGlnInDocuments"))))))),a.createElement(r.Ow,{isPending:v,title:P(t?"Global.Save":"Global.Create"),disabledPrimary:d,Secondary:t&&$?(null===(h=null===(b=null==c?void 0:c.people)||void 0===b?void 0:b.user)||void 0===h?void 0:h.is_active)?a.createElement(f.Z,{onClick:()=>R(!0),danger:!0}," ",P("Supplier.CompanyInfo.DeActiveAccount")):a.createElement(f.Z,{onClick:s,loading:d,disabled:v},P("User.PersonalInfo.ActivateAccount")):""}))),j&&a.createElement(L,{userId:null===(E=null==c?void 0:c.user)||void 0===E?void 0:E.id,userStatus:null===(y=null==c?void 0:c.user)||void 0===y?void 0:y.is_active,isModalVisible:j,setModalVisible:R,refetch:l}))},j=n(38056),R=n(14206),z=n.n(R),H=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?n(e.value):l(e.value).then(i,o)}s((a=a.apply(e,t||[])).next())}))};function K({supplierId:e,flagIds:t}){return H(this,void 0,void 0,(function*(){try{const n=yield z().put(`suppliers/${e}/flags`,{flag_ids:[...t]});return g.ZP.success(j.ZP.t("Global.UpdatedSuccessfully",{title:j.ZP.t("Supplier.CompanyInfo.Flags")})),n.data.data}catch(e){throw new Error(e)}}))}var X=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?n(e.value):l(e.value).then(i,o)}s((a=a.apply(e,t||[])).next())}))};function W({userId:e,roleIds:t}){return X(this,void 0,void 0,(function*(){try{const n=yield z().put(`users/${e}/roles`,{role_ids:[...t]});return g.ZP.success(j.ZP.t("Global.UpdatedSuccessfully",{title:j.ZP.t("Supplier.CompanyInfo.Roles")})),n.status}catch(e){throw new Error(e)}}))}var Q=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n};var J=({editMode:e,singleData:t,refetch:n})=>{const r=(0,l.s0)(),{supplier_id:o}=(0,l.UO)(),s=new i.Z,{mutate:c,isLoading:u}=(0,d.useMutation)((({id:e,values:t})=>s.apiService.request({url:`/users/${e}/active-status`,body:t,method:"PUT"}))),{mutate:m,isLoading:p}=(0,d.useMutation)((({id:t,values:n})=>e&&t?s.apiService.updateOne(t,n):s.apiService.createOne(n))),{mutate:v,isLoading:f}=(0,d.useMutation)(K),{mutate:b,isLoading:h}=(0,d.useMutation)(W);let E=null;let y=null;return a.createElement(q,{editMode:e,isPending:p,initialValues:t,onSubmit:e=>{var a,l,i;const{communication_by_letter:s,contactGroup:c,paymentTerm:u,shippingMethod:d,user:p,is_vat_valid:v}=e,f=Q(e,["communication_by_letter","contactGroup","paymentTerm","shippingMethod","user","is_vat_valid"]),g=Object.assign(Object.assign({},f),{contact_group_id:null==c?void 0:c.id,is_vat_valid:null!=v&&v,default_payment_terms_id:null!==(a=null==u?void 0:u.id)&&void 0!==a?a:void 0,communication_by_letter:null!=s&&s,default_shipping_method_id:null!==(l=null==d?void 0:d.id)&&void 0!==l?l:void 0,user:(null==p?void 0:p.username)&&(null==p?void 0:p.password)&&(null==p?void 0:p.email)&&(null==p?void 0:p.telephone_number)?p:void 0});m({id:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:void 0,values:g},{onSuccess:()=>{o||r("../"),n()}})},rolePending:h,flagPending:f,onDeactivate:()=>{var a;if(!e)return;const l=null===(a=null==t?void 0:t.people)||void 0===a?void 0:a.user,r={is_active:!(null==l?void 0:l.is_active)};c({id:t?null==l?void 0:l.id:void 0,values:r},{onSuccess:()=>{g.ZP.success(`User account ${(null==l?void 0:l.is_active)?"deactivated":"activated"} successfully.`),n()}})},flagChangeHandler:e=>{const n=null==t?void 0:t.id;if(!n)return;E&&clearTimeout(E),E=setTimeout((()=>{v({supplierId:n,flagIds:[e.id]})}),500)},roleChangeHandler:e=>{var n,a;const l=null===(a=null===(n=null==t?void 0:t.people)||void 0===n?void 0:n.user)||void 0===a?void 0:a.id;if(!l)return;const r=null==e?void 0:e.map((e=>e.id));y&&clearTimeout(y),y=setTimeout((()=>{b({userId:l,roleIds:r})}),2e3)},deActivePending:u,refetch:n})};var Y=({queryResult:e})=>{const t=(0,l.s0)(),{supplier_id:n}=(0,l.UO)();(0,a.useEffect)((()=>{}),[e]);return a.createElement(a.Fragment,null,e.isLoading?a.createElement(r.aN,null):a.createElement(J,{editMode:!!n,singleData:e.data,onCallback:()=>{n||t(-1)},refetch:e.refetch}))},ee=(n(79883),n(68312));var te=()=>{const[e]=(0,c.KO)(le);if(!e)return a.createElement(b.Z,null);const t=new ee._r(e);return a.createElement(r.Xg,{module:t},a.createElement(r.Xg.Panel,null,a.createElement(r.s_.Header,{hasSearch:!0}),a.createElement(r.s_.ListView,{module:t,noId:!0,params:{orderBy:{created_at:"DESC"}}})))},ne=n(37401);var ae=({queryResult:e})=>{var t,n,l,i;const{t:o}=(0,u.$)(),[s]=(0,c.KO)(le);if(!s)return a.createElement(b.Z,null);return a.createElement(a.Fragment,null,e.isLoading?a.createElement(r.aN,null):a.createElement(ne.Z,{id:s,onCallback:()=>{g.ZP.success(o("Global.UpdatedSuccessfully",{title:o("Auth.Password")}))},userEmail:null!==(i=null===(l=null===(n=null===(t=e.data)||void 0===t?void 0:t.people)||void 0===n?void 0:n.user)||void 0===l?void 0:l.email)&&void 0!==i?i:void 0,resetPassCallback:()=>{g.ZP.success("An email with a password recovery has been sent to you.")}}))};const le=(0,c.cn)(void 0);function re(){const{t:e}=(0,u.$)(),{supplier_id:t}=(0,l.UO)(),n=new i.Z,[o,m]=(0,a.useState)("1"),[p,v]=(0,a.useState)(!0),[,f]=(0,c.KO)(le),g=(0,d.useQuery)(`supplier-${t}`,(()=>t?n.apiService.getOne(+t):void 0));(0,a.useEffect)((()=>{var e,t,n,a;if(g.isFetched&&g.isSuccess){const l=null===(e=g.data)||void 0===e?void 0:e.is_user;v(!l),f(l?null===(a=null===(n=null===(t=g.data)||void 0===t?void 0:t.people)||void 0===n?void 0:n.user)||void 0===a?void 0:a.id:void 0)}}),[g]);const b=[...n.breadcrumbItems,{path:"",breadcrumbName:t?`${n.title[0]} - ${t}`:`New ${n.title[0]}`}];return a.createElement(r.Xg,{module:n},a.createElement(r.Xg.Breadcrumb,{routes:b}),a.createElement(ie,null,a.createElement(s.Z,{type:"card",defaultActiveKey:"1",className:"supplier-tabs",activeKey:o,destroyInactiveTabPane:!0,onChange:e=>m(e)},a.createElement(s.Z.TabPane,{key:"1",tab:e("Supplier.CompanyInfo.TabTitle")},a.createElement(Y,{queryResult:g})),a.createElement(s.Z.TabPane,{key:"2",tab:e("Supplier.PasswordSetting.TabTitle"),disabled:p},a.createElement(ae,{queryResult:g})),a.createElement(s.Z.TabPane,{key:"3",tab:e("Supplier.Address.TabTitle"),disabled:!t},a.createElement(E,{queryResult:g})),a.createElement(s.Z.TabPane,{key:"4",tab:e("Supplier.BankDetails.TabTitle"),disabled:p},a.createElement(P,null)),a.createElement(s.Z.TabPane,{key:"5",tab:e("Supplier.Documents.TabTitle"),disabled:p},a.createElement(te,null)))))}const ie=m.ZP.div`
  padding: 32px 16px;
  border-radius: 12px;
  background: #fff;
  margin-top: 16px;

  & .content {
    padding: 12px 0;
  }

  & .user-tabs .ant-tabs-nav-list {
    margin-left: 0;

    & .ant-tabs-tab {
      flex: 1;
      display: flex;
      justify-content: center;
    }
    & .ant-tabs-tab-active {
      background-color: #009ddc;

      & .ant-tabs-tab-btn {
        color: white;
      }
    }
  }
`;function oe(){return a.createElement(l.Z5,null,a.createElement(l.AW,{path:"",element:a.createElement(o,null)}),a.createElement(l.AW,{path:"/manage",element:a.createElement(re,null)}),a.createElement(l.AW,{path:"/manage/:supplier_id",element:a.createElement(re,null)}))}},17177:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(33996),l=n(27378),r=n(34435),i=n(19203);var o={MainContainer:n(26761).ZP.h3`
  padding: 20px;
`},s=n(60071);var c=({isLoading:e,invoiceContactGroupId:t,userId:n})=>{if(!n)return l.createElement(i.Z,null);const[c,u]=(0,l.useState)(""),{t:d}=(0,s.$)();return(0,l.useEffect)((()=>{t&&(0,r.k)({userId:+n,invoiceContactGroupId:t}).then((e=>{u(e)}))}),[t]),e?l.createElement(a.aN,null):l.createElement(l.Fragment,null,c&&l.createElement(o.MainContainer,null,l.createElement("strong",null,"  ",d("DocumentSettings.InvoiceAddress"),"  "),l.createElement("div",{dangerouslySetInnerHTML:{__html:c}})))}},8647:function(e,t,n){var a=n(3288);const l=(0,n(26761).ZP)(a.Z)`
  .ant-form-item {
    margin-bottom: 0;
    padding: 12px 12px 24px 12px;

    :nth-child(even) {
      background-color: #fbfbfb;
    }
    :nth-child(odd) {
      background-color: rgb(242, 242, 242);
    }
  }

  .ant-form-item-control-input {
    height: auto;
    display: flex;
    align-items: center;
  }

  .ant-form-item-label {
    white-space: normal;
    display: flex;
    align-items: center;

    & > label {
      height: auto;
    }
  }

  .leftCol {
    padding-right: ${e=>e.colspace}px;
  }
  .rightCol {
    padding-left: ${e=>e.colspace}px;
  }
`;t.Z={Container:l}},16170:function(e,t,n){n.d(t,{Z:function(){return p}});n(95171);var a=n(27378),l=n(56552),r=n(33996),i=n(3288),o=n(97851),s=n(60071),c=n(8647);var u=({isPending:e,onSubmit:t,initialValues:n})=>{const[l]=i.Z.useForm(),{t:u}=(0,s.$)();return(0,a.useEffect)((()=>{n&&l.setFieldsValue(n)}),[n]),a.createElement(c.Z.Container,{form:l,layout:"horizontal",onFinish:t,name:"bank-details-form",labelAlign:"left",labelCol:{xs:{span:24},md:{span:12},lg:{span:10}},wrapperCol:{xs:{span:24},md:{span:10},lg:{span:12}}},a.createElement("h2",null,u("User.BankDetails.BankData")),a.createElement("br",null),a.createElement(i.Z.Item,{label:u("User.BankDetails.BankName"),name:"bank_name"},a.createElement(o.Z,{placeholder:u("Global.InputPlaceholder",{title:u("User.BankDetails.BankName")})})),a.createElement(i.Z.Item,{label:u("User.BankDetails.IBANNumber"),name:"iban"},a.createElement(o.Z,{placeholder:u("Global.InputPlaceholder",{title:u("User.BankDetails.IBANNumber")})})),a.createElement(i.Z.Item,{label:u("User.BankDetails.BIC"),name:"bic"},a.createElement(o.Z,{placeholder:u("Global.InputPlaceholder",{title:u("User.BankDetails.BIC")})})),a.createElement(r.Ow,{isPending:e}))},d=n(19203),m=n(68312);var p=({singleData:e,userId:t})=>{if(!t)return a.createElement(d.Z,null);const n=new m.WK,{mutate:r,isLoading:i}=(0,l.useMutation)((({id:e,values:t})=>e?n.apiService.updateOne(e,t):n.apiService.createOne(t)));return a.createElement(u,{isPending:i,onSubmit:n=>{const a=Object.assign(Object.assign({},n),{user_id:+t});r({id:null==e?void 0:e.id,values:a})},initialValues:e})}},37401:function(e,t,n){n.d(t,{Z:function(){return Z}});n(95171);var a=n(27378),l=n(56552),r=n(99019),i=n(52038),o=n(33996),s=n(3288),c=n(56591),u=n(35062),d=n(10374),m=n(97851),p=n(60071),v=n(8647);var f=({isPending:e,onSubmit:t,resetPending:n,onResetPass:l,haveReset:f})=>{const[g]=s.Z.useForm(),{t:b}=(0,p.$)(),h=f?a.createElement(c.Z,{onClick:l,loading:n,disabled:e},b("User.PasswordSetting.SendPasswordResetLink")):void 0;return a.createElement(v.Z.Container,{form:g,colspace:8,layout:"vertical",onFinish:t,name:"password-form"},a.createElement("h2",null,b("User.PasswordSetting.Title")),a.createElement("br",null),a.createElement(u.Z,{justify:"space-between"},a.createElement(d.Z,{xs:24,md:12,className:"leftCol"},a.createElement(s.Z.Item,{label:b("User.PasswordSetting.NewPassword"),name:"password",rules:[{required:!0,message:"Password is required"},{min:8,message:"Password should at least have 8 Characters"}]},a.createElement(m.Z.Password,{placeholder:b("Global.InputPlaceholder",{title:b`Global.Password`}),iconRender:e=>e?a.createElement(r.Z,null):a.createElement(i.Z,null)}))),a.createElement(d.Z,{xs:24,md:12,className:"rightCol"},a.createElement(s.Z.Item,{label:b("User.PasswordSetting.ConfirmNewPassword"),name:"password_confirmation",rules:[{required:!0,message:"Password conformation is required"},{min:8,message:"Password should at least have 8 Characters"}]},a.createElement(m.Z.Password,{placeholder:b("Global.InputPlaceholder",{title:b`Global.Password`}),iconRender:e=>e?a.createElement(r.Z,null):a.createElement(i.Z,null)})))),a.createElement(o.Ow,{isPending:e,title:b("Global.Save"),Secondary:h,disabledPrimary:n}))},g=n(34234),b=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?n(e.value):l(e.value).then(i,o)}s((a=a.apply(e,t||[])).next())}))};const h=new g.Vx("/users/--/change-password"),E=({id:e,values:t})=>b(void 0,void 0,void 0,(function*(){try{return h.request({url:`/users/${e}/change-password`,method:"PUT",body:t})}catch(e){throw new Error(e)}})),y=({values:e})=>b(void 0,void 0,void 0,(function*(){try{return h.request({url:"reset-password",method:"POST",body:e})}catch(e){throw new Error(e)}}));var Z=({id:e,onCallback:t,userEmail:n,resetPassCallback:r})=>{const{mutate:i,isLoading:o}=(0,l.useMutation)(E),{mutate:s,isLoading:c}=(0,l.useMutation)(y);return a.createElement(f,{isPending:o,onSubmit:n=>{const a=Object.assign({},n);i({id:e,values:a},{onSuccess:t})},resetPending:c,onResetPass:()=>{if(!n)return;s({values:{email:n}},{onSuccess:r})},haveReset:!!n})}},34435:function(e,t,n){n.d(t,{b:function(){return o},k:function(){return s}});var a=n(14206),l=n.n(a),r=(n(6673),n(68312)),i=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?n(e.value):l(e.value).then(i,o)}s((a=a.apply(e,t||[])).next())}))};const o=({userId:e,contact_group_id:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield l().put(`users/${e}/invoice-contact-group`,{invoice_contact_group_id:t},{validateStatus:e=>200===e})).data.data}catch(e){throw new Error(e)}})),s=({userId:e,invoiceContactGroupId:t})=>i(void 0,void 0,void 0,(function*(){var n,a;const l=new r.fk(e);try{const e=yield l.apiService.getOne(t);return null!==(a=null===(n=e.address)||void 0===n?void 0:n.address_complete)&&void 0!==a?a:"-"}catch(n){throw new Error(n)}}))},55350:function(e,t,n){n.d(t,{X:function(){return i}});var a=n(14206),l=n.n(a),r=function(e,t,n,a){function l(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function i(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){e.done?n(e.value):l(e.value).then(i,o)}s((a=a.apply(e,t||[])).next())}))};const i=({userId:e})=>r(void 0,void 0,void 0,(function*(){try{return(yield l().get(`users/${e}/user-banks`,{validateStatus:e=>e<500})).data.data}catch(e){throw new Error(e)}}))},81806:function(e,t,n){e.exports=n.p+"6e2a3bd87390fcea47e0.png"},54370:function(e){e.exports=JSON.parse('{"AW":"/Chants/Audio/*"}')}}]);