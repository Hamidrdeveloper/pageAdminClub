"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2750],{82750:function(e,i,n){n.r(i);var o=n(61985),r=n(33996),t=(n(95171),n(6110)),u=n(27378),a=n(56552),c=n(96740),l=n(3556),s=(n(42823),n(55441));i.default=({onCallback:e,singleData:i})=>{const n=new s.Z,d=(0,c.s0)(),{profile:v}=(0,u.useContext)(o.Vo),p=!!v.roles.find((e=>"partner"===e.slug));(0,u.useEffect)((()=>{if(p){confirm("Are you certain for adding a new order subscription?")&&_(v)}}),[p]);const{mutate:f,isLoading:g}=(0,a.useMutation)((({id:e,values:i})=>e?n.apiService.updateOne(e,i):n.apiService.createOne(i)));function _(i){var n,o;(null==i?void 0:i.invoice_contact_group_id)||t.ZP.error("Your User doesn't have any contact group!"),f({values:{user_id:null!==(n=null==i?void 0:i.id)&&void 0!==n?n:void 0,invoice_contact_group_id:null!==(o=null==i?void 0:i.invoice_contact_group_id)&&void 0!==o?o:void 0}},{onSuccess:i=>{var n;null==e||e(i),d(null!==(n="/admin/orders/subscription/"+(null==i?void 0:i.id))&&void 0!==n?n:-1)},onError:e})}return p?u.createElement(r.aN,{title:"Creating New Order Subscription..."}):u.createElement(l.Z,{initialValues:i,onSubmit:e=>{_(e.user)},isPending:g})}}}]);