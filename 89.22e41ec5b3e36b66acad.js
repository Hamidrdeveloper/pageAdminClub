"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[89],{39835:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getTransitionName=t.default=void 0;var n=function(){return{height:0,opacity:0}},a=function(e){return{height:e.scrollHeight,opacity:1}},r=function(e,t){return!0===(null==t?void 0:t.deadline)||"height"===t.propertyName},l={motionName:"ant-motion-collapse",onAppearStart:n,onEnterStart:n,onAppearActive:a,onEnterActive:a,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:n,onAppearEnd:r,onEnterEnd:r,onLeaveEnd:r,motionDeadline:500};t.getTransitionName=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)};var c=l;t.default=c},47380:function(e,t,n){var a=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(n(96945)),l=0,c={};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=l++,a=t;function o(){(a-=1)<=0?(e(),delete c[n]):c[n]=(0,r.default)(o)}return c[n]=(0,r.default)(o),n}o.cancel=function(e){void 0!==e&&(r.default.cancel(c[e]),delete c[e])},o.ids=c},23182:function(e,t,n){var a=n(11873);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElement=function(e,t){return o(e,e,t)},t.isValidElement=void 0,t.replaceElement=o;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=c?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(27378));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var c=r.isValidElement;function o(e,t,n){return c(e)?r.cloneElement(e,"function"==typeof n?n(e.props||{}):n):t}t.isValidElement=c},64192:function(e,t,n){var a=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.detectFlexGapSupported=t.canUseDocElement=void 0,Object.defineProperty(t,"isStyleSupport",{enumerable:!0,get:function(){return c.isStyleSupport}});var r,l=a(n(14363)),c=n(33054),o=function(){return(0,l.default)()&&window.document.documentElement};t.canUseDocElement=o;t.detectFlexGapSupported=function(){if(!o())return!1;if(void 0!==r)return r;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),r=1===e.scrollHeight,document.body.removeChild(e),r}},93950:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.tupleNum=t.tuple=void 0;t.tuple=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};t.tupleNum=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}},33054:function(e,t,n){var a=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.isStyleSupport=function(e,t){if(!Array.isArray(e)&&void 0!==t)return function(e,t){if(!l(e))return!1;var n=document.createElement("div"),a=n.style[e];return n.style[e]=t,n.style[e]!==a}(e,t);return l(e)};var r=a(n(14363)),l=function(e){if((0,r.default)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some((function(e){return e in n.style}))}return!1}},96945:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=function(e){return+setTimeout(e,16)},a=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(n=function(e){return window.requestAnimationFrame(e)},a=function(e){return window.cancelAnimationFrame(e)});var r=0,l=new Map;function c(e){l.delete(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=r+=1;function o(t){if(0===t)c(a),e();else{var r=n((function(){o(t-1)}));l.set(a,r)}}return o(t),a}o.cancel=function(e){var t=l.get(e);return c(t),a(t)}},16329:function(e,t,n){var a=n(7914);Object.defineProperty(t,"__esModule",{value:!0}),t.fillRef=c,t.composeRef=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){c(t,e)}))}},t.supportRef=function(e){var t,n,a=(0,l.isMemo)(e)?e.type.type:e.type;if("function"==typeof a&&!(null===(t=a.prototype)||void 0===t?void 0:t.render))return!1;if("function"==typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))return!1;return!0};var r=a(n(11873)),l=n(19185);function c(e,t){"function"==typeof e?e(t):"object"===(0,r.default)(e)&&e&&"current"in e&&(e.current=t)}},64587:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});n(95171);var a=n(34234),r=n(27378),l=n(56552),c=n(33996),o=n(3288),i=n(35062),m=n(10374),u=n(9172),s=n(97851),d=n(25724),p=n(48158),f=n(60071),E=n(2010);n(99239);function v({onSubmit:e,isPending:t,initialValues:n}){const{t:a}=(0,f.$)(),[l]=o.Z.useForm();return(0,r.useEffect)((()=>{n&&l.setFieldsValue(n)}),[n]),r.createElement(o.Z,{form:l,layout:"vertical",onFinish:e,name:"partner-form",initialValues:{receive_vat_responsible:!1,send_vat_responsible:!1,active_auto_bonus:!1,active_training_bonus:!1,receive_commission:!1,can_buy:!1,over_personal_turnover:!1,can_see_down_line:!1,inhouse_sale:!1,has_network:!1,has_btob:!1,has_btoc:!1,has_warehouse:!1,has_delivery:!1,is_active:!1,is_approved:!1,post_delivery_factor:!1,translate:[{locale:void 0,name:""}]}},r.createElement(i.Z,{gutter:16},r.createElement(m.Z,{span:0!==Object.keys(n||{}).length?12:8},r.createElement(o.Z.Item,{label:a("Partner.Field.User"),name:"user",rules:[{required:!0}]},r.createElement(E.o,null))),0===Object.keys(n||{}).length&&r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:"parent",label:a("Partner.Field.ParentId")},r.createElement(E.o,null))),r.createElement(m.Z,{span:0!==Object.keys(n||{}).length?12:8},r.createElement(o.Z.Item,{name:"coach",label:a("Partner.Field.CoachId")},r.createElement(E.o,null)))),r.createElement(i.Z,{gutter:16},r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:"transportation_ratio_percentage",label:a("Partner.Field.TransportationRatioPercentage")},r.createElement(u.Z,{placeholder:a("Global.SelectPlaceholder",{title:a("Partner.Field.TransportationRatioPercentage")}),options:[{label:"0",value:0},{label:"25",value:25},{label:"50",value:50},{label:"75",value:75},{label:"100",value:100}]}))),r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{label:a("Partner.Field.MaxClientRoot"),name:"max_client_root"},r.createElement(s.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Partner.Field.MaxClientRoot")})}))),r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:"warranty_days",label:a("Partner.Field.WarrantyDays"),rules:[{required:!0}]},r.createElement(d.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Partner.Field.WarrantyDays")})})))),r.createElement(i.Z,{gutter:16},r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{label:a("Partner.Field.BankName"),name:"bank_name"},r.createElement(s.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Partner.Field.BankName")})}))),r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:"iban",label:a("Partner.Field.Iban")},r.createElement(s.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Partner.Field.Iban")})}))),r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:"swift",label:a("Partner.Field.Swift")},r.createElement(s.Z,{placeholder:a("Global.InputPlaceholder",{title:a("Partner.Field.Swift")})})))),r.createElement(i.Z,{gutter:16,className:"file-upload"},r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:["frontIdentityCard","root_file","path"],label:a("Partner.Field.FrontIdentityCardId")},r.createElement(c.gq,{form:l,idName:"front_identity_card_id"})),r.createElement(o.Z.Item,{hidden:!0,name:"front_identity_card_id"},r.createElement(r.Fragment,null))),r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:["backIdentityCard","root_file","path"],label:a("Partner.Field.BackIdentityCardId")},r.createElement(c.gq,{form:l,idName:"back_identity_card_id"})),r.createElement(o.Z.Item,{hidden:!0,name:"back_identity_card_id"},r.createElement(r.Fragment,null))),r.createElement(m.Z,{span:8},r.createElement(o.Z.Item,{name:["businessCertification","root_file","path"],label:a("Partner.Field.BusinessCertificationId")},r.createElement(c.gq,{form:l,idName:"business_certification_id"})),r.createElement(o.Z.Item,{hidden:!0,name:"business_certification_id"},r.createElement(r.Fragment,null)))),r.createElement(i.Z,{gutter:32},r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"active_auto_bonus",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.ActiveAutoBonus")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"active_training_bonus",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.ActiveTrainingBonus")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"receive_commission",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.ReceiveCommission")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"can_buy",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.CanBuy")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"is_active",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Global.IsActive")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"receive_vat_responsible",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.ReceiveVat")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"send_vat_responsible",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.SendVatResponsible")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"is_approved",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Global.IsApproved")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"over_personal_turnover",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.OverPersonalTurnover")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"can_see_down_line",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.CanSeeDowLine")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"inhouse_sale",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.InHouseSale")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"has_network",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Global.HasNetwork")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"has_btob",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Global.HasBtob")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"has_btoc",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.HasBtoc")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"post_delivery_factor",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.PostDeliveryFactor")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"has_warehouse",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.HasWarehouse")))),r.createElement(m.Z,{span:6},r.createElement(o.Z.Item,{name:"has_delivery",valuePropName:"checked",className:"checkbox"},r.createElement(p.Z,null,a("Partner.Field.HasDelivery"))))),r.createElement(c.Ow,{isPending:t}))}n(94);var b=n(75095),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var _=({onCallback:e,singleData:t})=>{const n=new b.Z,{mutate:c,isLoading:o}=(0,l.useMutation)((({id:e,values:t})=>e?n.apiService.updateOne(e,t):n.apiService.createOne(t)));return r.createElement(v,{initialValues:t,onSubmit:n=>{const{parent:r,translate:l,user:o,front_identity_card_id:i}=n,m=h(n,["parent","translate","user","front_identity_card_id"]);console.log(m);const u=Object.assign(Object.assign({},m),{user_id:null==o?void 0:o.id,parent_id:null==r?void 0:r.id,front_identity_card_id:i,translate:(0,a.mj)(l)});c({id:t?t.id:void 0,values:u},{onSuccess:e})},isPending:o})}},23034:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(27378),r=n(96740),l=n(61985),c=n(38056),o=n(33996),i=n(60071),m=(n(99239),n(75095));function u(){const e=(0,r.s0)(),{t:t}=(0,i.$)(),{role:n}=(0,a.useContext)(l.Vo),u=new m.Z;return"partner"===n&&(u.tableColumns=function(e){const t=e.findIndex((e=>e.title===c.ZP.t("Partner.Field.Action")));return e.splice(t,1),e}(u.tableColumns)),a.createElement(o.Xg,{module:u},a.createElement(o.Xg.Breadcrumb,null),a.createElement(o.Xg.Panel,null,a.createElement(o.s_.Header,{hasNew:!0,hasSearch:!0,newLink:"/admin/users/manage/partner/?mode=partner"}),a.createElement(o.s_.ListView,{dontNavigate:!0,module:u,hasUpdate:!1,hasActive:!1,onUpdateWithModel:t=>{"partner"!==n&&e(`/admin/users/manage/partner/${t.user_id}?active=7`)},togglers:"partner"===n?[]:[{url:"active",sorter:!0,dataIndex:"is_active",title:t("Global.Active")}]})))}var s=n(87435);var d=()=>{const e=new m.Z;return a.createElement(o.Xg,{module:e},a.createElement(o.Xg.Breadcrumb,{routes:[...e.breadcrumbItems||[],{path:"",breadcrumbName:"Partner Tree"}]}),a.createElement(s.Z,null))},p=n(53988),f=n(3487),E=n(64587),v=n(10016);n(11639);var b=()=>{const e=(0,r.s0)(),{partner_id:t}=(0,r.UO)(),[n,l]=(0,a.useState)(!1),[i,u]=(0,a.useState)({}),s=new m.Z,d=s.title[0],b=`${v.AW.replace("*","")}`,h=[...s.breadcrumbItems,{path:"",breadcrumbName:t?`${c.ZP.t("Global.Update")} ${d} - ${t}`:`${c.ZP.t("Global.New")} ${d}`}];(0,a.useEffect)((()=>{t&&(l(!0),s.apiService.getOne(+t).then((e=>{u(e)})).finally((()=>{l(!1)})))}),[]);return a.createElement(o.Xg,{module:s},a.createElement(o.Xg.Breadcrumb,{routes:h}),a.createElement(o.Xg.Panel,null,a.createElement(f.j,null,a.createElement("div",{className:"header"},a.createElement(p.Z,{onClose:()=>e(`/admin${b}`),items:h})),n?a.createElement(o.aN,null):a.createElement(E.default,{singleData:i,onCallback:()=>{e(-1)}}))))};function h(){return a.createElement(r.Z5,null,a.createElement(r.AW,{path:"",element:a.createElement(u,null)}),a.createElement(r.AW,{path:"/upsert",element:a.createElement(b,null)}),a.createElement(r.AW,{path:"/tree/:partner_id",element:a.createElement(d,null)}),a.createElement(r.AW,{path:"/upsert/:partner_id",element:a.createElement(b,null)}))}}}]);