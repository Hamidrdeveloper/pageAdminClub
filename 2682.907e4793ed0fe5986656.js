"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2682],{44527:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(38056),r=(a(95171),a(34234)),l=(a(15339),a(91183));class i{constructor(){this.entity="/career-steps",this.title=[n.ZP.t("CareerStep.Title_other"),n.ZP.t("CareerStep.Title_other",{count:2})],this.apiService=new r.Vx(this.entity,this.title[0]),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin/${l.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:n.ZP.t("Global.ID")},{key:"slug",label:n.ZP.t("CareerStep.Slug")},{key:"min_point",label:n.ZP.t("CareerStep.MinPoint")},{key:"is_generation",label:n.ZP.t("CareerStep.Generation")},{key:"voucher_level",label:n.ZP.t("CareerStep.VoucherLevel")},{key:"id_account_minus_value",label:n.ZP.t("CareerStep.AccountMinusValue")},{key:"name",label:n.ZP.t("Global.Name")},{key:"discount_percentage",label:n.ZP.t("CareerStep.BonusValue")},{key:"frontline",label:n.ZP.t("CareerStep.FrontLine")}],this.tableColumns=[{key:"name",className:"hasTile",title:n.ZP.t("Global.Name"),dataIndex:"name"},{key:"slug",className:"hasTile",title:n.ZP.t("CareerStep.Slug"),dataIndex:"slug"},{key:"min_point",className:"hasTile",title:n.ZP.t("CareerStep.MinPoint"),dataIndex:"min_point"},{key:"is_generation",className:"hasTile",title:n.ZP.t("CareerStep.Generation"),dataIndex:"is_generation"},{key:"voucher_level",className:"hasTile",title:n.ZP.t("CareerStep.VoucherLevel"),dataIndex:"voucher_level"},{key:"discount_percentage",className:"hasTile",title:n.ZP.t("CareerStep.BonusValue"),dataIndex:"discount_percentage"},{key:"frontline",className:"hasTile",title:n.ZP.t("CareerStep.FrontLine"),dataIndex:"frontline"}]}}},97136:function(e,t,a){a.d(t,{Z:function(){return b}});var n=a(38056),r=a(34234),l=a(39338),i=a(27378),o=a(62500),c=(a(15339),a(59748)),s=a(44527),u=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){e.done?a(e.value):r(e.value).then(i,o)}c((n=n.apply(e,t||[])).next())}))};const m=(0,l.cn)([]),d=new s.Z,p=(0,c.el)((e=>({queryKey:["careerstep",e(m)],queryFn:()=>u(void 0,void 0,void 0,(function*(){return(yield d.apiService.getAll({pagination:{per_page:30},params:{isActive:!0}})).data}))})));var b=function({value:e,onChange:t,maxHeight:a,isMulti:c=!1,placeholder:s=n.ZP.t("Global.SelectPlaceholder",{title:n.ZP.t("CareerStep.Title_other")}),disabled:u=!1,menuPlacement:m="bottom"}){const[d]=(0,l.KO)(p);return i.createElement(o.ZP,{isClearable:!0,isMulti:c,options:d,isDisabled:u,onChange:e=>null==t?void 0:t(e),placeholder:s,maxMenuHeight:a,menuPlacement:m,menuPortalTarget:document.body,getOptionLabel:e=>null==e?void 0:e.name,getOptionValue:e=>String(null==e?void 0:e.id),theme:e=>(0,r.$p)(e),styles:{menuPortal:e=>Object.assign(Object.assign({},e),{zIndex:9999})},classNamePrefix:"react-select",value:e})}},23883:function(e,t,a){a(15339)},15339:function(e,t,a){a(95171)},12682:function(e,t,a){a.r(t),a.d(t,{default:function(){return I}});var n=a(27378),r=a(96740),l=a(33996),i=(a(23883),a(61320)),o=a.n(i),c=a(38056),s=(a(95171),a(34234)),u=a(31675);const m=e=>n.createElement("span",null,e?(0,u.Wb)(new Date(e.replace(/'-'/g,"/"))):"-");var d=JSON.parse('{"AW":"specisaasdsaal-condition-career-step/*"}');class p{constructor(){this.entity="career-step-special-conditions",this.title=[c.ZP.t("SpecialConditionCareerStep.Title"),c.ZP.t("SpecialConditionCareerStep.Title",{count:2})],this.apiService=new s.Vx(this.entity,this.title[0]),this.breadcrumbItems=[{breadcrumbName:this.title[1],path:`/admin/${d.AW.replace("*","")}`}],this.detailColumns=[{key:"id",label:c.ZP.t("Global.ID")}],this.tableColumns=[{key:"careerStepName",dataIndex:["careerStep","name"],title:c.ZP.t("SpecialConditionCareerStep.CareerStepName")},{key:"points",dataIndex:"points",className:"number hasTile",title:c.ZP.t("SpecialConditionCareerStep.Points")},{key:"from",dataIndex:"from",className:"hasTile",render:m,title:c.ZP.t("Global.From")},{key:"to",dataIndex:"to",className:"hasTile",render:m,title:c.ZP.t("Global.To")}]}}function b(){const e=new p;return n.createElement(l.Xg,{module:e},n.createElement(l.Xg.Breadcrumb,null),n.createElement(l.Xg.Panel,null,n.createElement(l.s_.Header,{hasSearch:!0,hasNew:!0,noDescription:!0}),n.createElement(l.s_.ListView,{module:e,hasUpdate:!0})))}var h=a(53988),S=a(3487),f=a(56552),g=a(97136),v=a(32383),P=a(3288),Z=a(35062),C=a(10374),y=a(97851),_=a(28681),E=a(60071);function k({onSubmit:e,isPending:t,initialValues:a}){const{t:r}=(0,E.$)(),[i]=P.Z.useForm();return(0,n.useEffect)((()=>{var e,t;a&&i.setFieldsValue(Object.assign(Object.assign({},a),{from_to_date_range:[o()(null!==(e=null==a?void 0:a.from)&&void 0!==e?e:void 0),o()(null!==(t=a.to)&&void 0!==t?t:void 0)]}))}),[a]),n.createElement(P.Z,{form:i,name:"special-condition-career-step-form",layout:"vertical",onFinish:e},n.createElement(Z.Z,{gutter:[32,8]},n.createElement(C.Z,{xs:12},n.createElement(P.Z.Item,{name:"points",rules:[{required:!0}],label:r("SpecialConditionCareerStep.Points")},n.createElement(y.Z,{type:"number"}))),n.createElement(C.Z,{xs:12},n.createElement(n.Suspense,{fallback:(0,v.Z)(r("SpecialConditionCareerStep.CareerStep"))},n.createElement(P.Z.Item,{name:"careerStep",rules:[{required:!0}],label:r("SpecialConditionCareerStep.CareerStep")},n.createElement(g.Z,null)))),n.createElement(C.Z,{xs:24},n.createElement(P.Z.Item,{name:"from_to_date_range",rules:[{required:!0}],label:r("SpecialConditionCareerStep.FromToDateRange")},n.createElement(_.Z.RangePicker,{format:(0,u._A)()})))),n.createElement(l.Ow,{isPending:t}))}var x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};var O=({singleData:e,onCallback:t})=>{const{apiService:a}=new p,{mutate:r,isLoading:l}=(0,f.useMutation)((({id:e,values:t})=>e?a.updateOne(e,t):a.createOne(t)));return n.createElement(k,{initialValues:e,isPending:l,onSubmit:a=>{var n;const{careerStep:l,from_to_date_range:i}=a,o=x(a,["careerStep","from_to_date_range"]),[c,s]=[null==i?void 0:i[0].format("YYYY-MM-DD"),null==i?void 0:i[1].format("YYYY-MM-DD")],u=Object.assign(Object.assign({},o),{to:s,from:c,career_step_id:null==l?void 0:l.id});r({id:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:void 0,values:u},{onSuccess:t})}})};var N=()=>{const e=(0,r.s0)(),{special_condition_career_step_id:t}=(0,r.UO)(),[a,i]=(0,n.useState)(),[o,s]=(0,n.useState)(!0),u=new p,m=u.title[0],b=`${d.AW.replace("*","")}`,f=[...u.breadcrumbItems,{path:"",breadcrumbName:t?`${c.ZP.t("Global.Update")} ${m} - ${t}`:`${c.ZP.t("Global.New")} ${m}`}];(0,n.useEffect)((()=>{t?(s(!0),u.apiService.getOne(+t).then((e=>{i(e)})).finally((()=>{s(!1)}))):s(!1)}),[]);return n.createElement(l.Xg,{module:u},n.createElement(l.Xg.Breadcrumb,{routes:f}),n.createElement(l.Xg.Panel,null,n.createElement(S.j,null,n.createElement("div",{className:"header"},n.createElement(h.Z,{onClose:()=>e(`/admin${b}`),items:f})),o?n.createElement(l.aN,null):n.createElement(O,{singleData:a,onCallback:()=>{e(-1)}}))))};function I(){return n.createElement(r.Z5,null,n.createElement(r.AW,{path:"",element:n.createElement(b,null)}),n.createElement(r.AW,{path:"/upsert",element:n.createElement(N,null)}),n.createElement(r.AW,{path:"/upsert/:special_condition_career_step_id",element:n.createElement(N,null)}))}},3487:function(e,t,a){a.d(t,{j:function(){return n}});const n=a(26761).ZP.div`
  padding: 32px;
  .header {
    padding-bottom: 32px;
    margin-bottom: 32px;
    border-bottom: 1px dashed #ededed;
  }
`},91183:function(e){e.exports=JSON.parse('{"AW":"careerstsdsdeps/*"}')}}]);